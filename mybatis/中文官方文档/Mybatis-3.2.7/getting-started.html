
<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 05 六月 2014 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Clinton Begin" />
    <meta name="author" content="Nan Lei" />
    <meta name="Date-Revision-yyyymmdd" content="20140605" />
    <meta http-equiv="Content-Language" content="zh" />
    <title>MyBatis - 
    MyBatis 3 | 入门</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>MyBatis</h2>
                </div>
                      </div>
        <div class="pull-right">                                <a href="../../" id="bannerRight" title="MyBatis logo">
                                                                                        <img src="./images/mybatis-logo.png"  alt="MyBatis logo"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">最近更新: 05 六月 2014
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">版本: 3.2.7
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Core</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>入门</a>
          </li>
                                                                                                                                                                                                                  
      <li>
  
                          <a href="configuration.html" title="XML 映射配置文件">
          <i class="icon-chevron-right"></i>
        XML 映射配置文件</a>
                  </li>
                                                                                                                                                            
      <li>
  
                          <a href="sqlmap-xml.html" title="Mapper XML 文件">
          <i class="icon-chevron-right"></i>
        Mapper XML 文件</a>
                  </li>
                
      <li>
  
                          <a href="dynamic-sql.html" title="动态 SQL">
          <i class="none"></i>
        动态 SQL</a>
            </li>
                                                                                    
      <li>
  
                          <a href="java-api.html" title="Java API">
          <i class="icon-chevron-right"></i>
        Java API</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="statement-builders.html" title="Statement Builders">
          <i class="icon-chevron-right"></i>
        Statement Builders</a>
                  </li>
                
      <li>
  
                          <a href="logging.html" title="Logging">
          <i class="none"></i>
        Logging</a>
            </li>
                              <li class="nav-header">项目文档</li>
                                                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="project-info.html" title="项目信息">
          <i class="icon-chevron-right"></i>
        项目信息</a>
                  </li>
                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="project-reports.html" title="项目报表">
          <i class="icon-chevron-right"></i>
        项目报表</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="构建依靠 Maven" class="poweredBy">
        <img class="builtBy" alt="构建依靠 Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <!-- Copyright 2010-2012 the original author or authors.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. --><!-- version: $Id$ -->

  
    <div class="section">
<h2>&#x5165;&#x95e8;<a name="a"></a></h2>
    
    
<div class="section">
<h3>Installation<a name="Installation"></a></h3>
      
<p>
        To use the MyBatis you just need to include the
        <tt>
          mybatis-x.x.x.jar
        </tt>
        file in the classpath.
      </p>
      
<p>
        If you are using Maven just add the following dependency to your pom.xml:
      </p>
        
<div class="source">
<pre>
&lt;dependency&gt;
  &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
  &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
  &lt;version&gt;x.x.x&lt;/version&gt;
&lt;/dependency&gt;</pre></div>
    </div>    
    
    
<div class="section">
<h3>&#x4ece; XML &#x4e2d;&#x6784;&#x5efa; SqlSessionFactory<a name="a_XML__SqlSessionFactory"></a></h3>
      
<p>
        &#x6bcf; &#x4e00; &#x4e2a; MyBatis &#x7684; &#x5e94; &#x7528; &#x7a0b; &#x5e8f; &#x90fd; &#x4ee5; &#x4e00; &#x4e2a; SqlSessionFactory &#x5bf9; &#x8c61; &#x7684; &#x5b9e; &#x4f8b; &#x4e3a; &#x6838; &#x5fc3; &#x3002;
SqlSessionFactory &#x5bf9; &#x8c61; &#x7684; &#x5b9e; &#x4f8b; &#x53ef; &#x4ee5; &#x901a; &#x8fc7; SqlSessionFactoryBuilder &#x5bf9; &#x8c61; &#x6765; &#x83b7; &#x5f97; &#x3002;
SqlSessionFactoryBuilder &#x5bf9;&#x8c61;&#x53ef;&#x4ee5;&#x4ece; XML &#x914d;&#x7f6e;&#x6587;&#x4ef6;,&#x6216;&#x4ece; Configuration &#x7c7b;&#x7684;&#x4e60;&#x60ef;&#x51c6;&#x5907;&#x7684;&#x5b9e;
&#x4f8b;&#x4e2d;&#x6784;&#x5efa; SqlSessionFactory &#x5bf9;&#x8c61;&#x3002;
      </p>
      
<p>
&#x4ece; XML &#x6587;&#x4ef6;&#x4e2d;&#x6784;&#x5efa; SqlSessionFactory &#x7684;&#x5b9e;&#x4f8b;&#x975e;&#x5e38;&#x7b80;&#x5355;&#x3002;&#x8fd9;&#x91cc;&#x5efa;&#x8bae;&#x4f60;&#x4f7f;&#x7528;&#x7c7b;&#x8def;&#x5f84;&#x4e0b;&#x7684;&#x8d44;
&#x6e90;&#x6587;&#x4ef6;&#x6765;&#x914d;&#x7f6e;,&#x4f46;&#x662f;&#x4f60;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x4efb;&#x610f;&#x7684; Reader &#x5b9e;&#x4f8b;,&#x8fd9;&#x4e2a;&#x5b9e;&#x4f8b;&#x5305;&#x62ec;&#x7531;&#x6587;&#x5b57;&#x5f62;&#x5f0f;&#x7684;&#x6587;&#x4ef6;&#x8def;&#x5f84;
&#x6216; URL &#x5f62;&#x5f0f;&#x7684;&#x6587;&#x4ef6;&#x8def;&#x5f84; file://&#x6765;&#x521b;&#x5efa;&#x3002;MyBatis &#x5305;&#x542b;&#x4e86;&#x4e00;&#x4e9b;&#x5de5;&#x5177;&#x7c7b;,&#x79f0;&#x4f5c;&#x4e3a;&#x8d44;&#x6e90;,&#x8fd9;&#x4e9b;&#x5de5;&#x5177;
&#x7c7b;&#x5305;&#x542b;&#x4e00;&#x4e9b;&#x65b9;&#x6cd5;,&#x8fd9;&#x4e9b;&#x65b9;&#x6cd5;&#x4f7f;&#x5f97;&#x4ece;&#x7c7b;&#x8def;&#x5f84;&#x6216;&#x5176;&#x4ed6;&#x4f4d;&#x7f6e;&#x52a0;&#x8f7d;&#x8d44;&#x6e90;&#x6587;&#x4ef6;&#x66f4;&#x52a0;&#x7b80;&#x5355;&#x3002;
      </p>
      
<div class="source">
<pre>
String resource = &quot;org/mybatis/example/mybatis-config.xml&quot;;
InputStream inputStream = Resources.getResourceAsStream(resource);
sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</pre></div>
      
<p>
XML &#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x5305;&#x542b;&#x5bf9; MyBatis &#x7cfb;&#x7edf;&#x7684;&#x6838;&#x5fc3;&#x8bbe;&#x7f6e;,&#x5305;&#x542b;&#x83b7;&#x53d6;&#x6570;&#x636e;&#x5e93;&#x8fde;&#x63a5;&#x5b9e;&#x4f8b;&#x7684;&#x6570;&#x636e;&#x6e90;&#x548c;
&#x51b3;&#x5b9a;&#x4e8b;&#x52a1;&#x8303;&#x56f4;&#x548c;&#x63a7;&#x5236;&#x7684;&#x4e8b;&#x52a1;&#x7ba1;&#x7406;&#x5668;&#x3002;&#x5173;&#x4e8e; XML &#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x7684;&#x8be6;&#x7ec6;&#x5185;&#x5bb9;&#x53ef;&#x4ee5;&#x5728;&#x6587;&#x6863;&#x540e;&#x9762;&#x627e;&#x5230;,
&#x8fd9;&#x91cc;&#x7ed9;&#x51fa;&#x4e00;&#x4e2a;&#x7b80;&#x5355;&#x7684;&#x793a;&#x4f8b;:
      </p>
      
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE configuration
  PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;
  &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
  &lt;environments default=&quot;development&quot;&gt;
    &lt;environment id=&quot;development&quot;&gt;
      &lt;transactionManager type=&quot;JDBC&quot;/&gt;
      &lt;dataSource type=&quot;POOLED&quot;&gt;
        &lt;property name=&quot;driver&quot; value=&quot;${driver}&quot;/&gt;
        &lt;property name=&quot;url&quot; value=&quot;${url}&quot;/&gt;
        &lt;property name=&quot;username&quot; value=&quot;${username}&quot;/&gt;
        &lt;property name=&quot;password&quot; value=&quot;${password}&quot;/&gt;
      &lt;/dataSource&gt;
    &lt;/environment&gt;
  &lt;/environments&gt;
  &lt;mappers&gt;
    &lt;mapper resource=&quot;org/mybatis/example/BlogMapper.xml&quot;/&gt;
  &lt;/mappers&gt;
&lt;/configuration&gt;</pre></div>
      
<p>
&#x5f53;&#x7136;, XML &#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x4e2d;&#x8fd8;&#x6709;&#x5f88;&#x591a;&#x53ef;&#x4ee5;&#x914d;&#x7f6e;&#x7684;,
&#x5728;
&#x4e0a;&#x9762;&#x7684;&#x793a;&#x4f8b;&#x6307;&#x51fa;&#x7684;&#x5219;&#x662f;&#x6700;&#x5173;&#x952e;&#x7684;&#x90e8;&#x5206;&#x3002;
&#x8981;&#x6ce8;&#x610f; XML &#x5934;&#x90e8;&#x7684;&#x58f0;&#x660e;,&#x9700;&#x8981;&#x7528;&#x6765;&#x9a8c;&#x8bc1; XML &#x6587;&#x6863;&#x6b63;&#x786e;&#x6027;&#x3002;environment &#x5143;&#x7d20;&#x4f53;&#x4e2d;&#x5305;&#x542b;&#x5bf9;&#x4e8b;
&#x52a1;&#x7ba1;&#x7406;&#x548c;&#x8fde;&#x63a5;&#x6c60;&#x7684;&#x73af;&#x5883;&#x914d;&#x7f6e;&#x3002;
mappers &#x5143;&#x7d20;&#x662f;&#x5305;&#x542b;&#x6240;&#x6709; mapper &#x6620;&#x5c04;&#x5668;)
(
&#x7684;&#x5217;&#x8868;,
&#x8fd9;&#x4e9b; mapper
&#x7684; XML &#x6587;&#x4ef6;&#x5305;&#x542b; SQL &#x4ee3;&#x7801;&#x548c;&#x6620;&#x5c04;&#x5b9a;&#x4e49;&#x4fe1;&#x606f;&#x3002;
      </p>
    </div>
    
<div class="section">
<h3>&#x4e0d;&#x4f7f;&#x7528; XML &#x6784;&#x5efa; SqlSessionFactory<a name="a_XML__SqlSessionFactory"></a></h3>
      
<p>
        &#x5982;&#x679c;&#x4f60;&#x559c;&#x6b22;&#x4ece; Java &#x7a0b;&#x5e8f;&#x800c;&#x4e0d;&#x662f; XML &#x6587;&#x4ef6;&#x4e2d;&#x76f4;&#x63a5;&#x521b;&#x5efa;&#x914d;&#x7f6e;&#x5b9e;&#x4f8b;,
&#x6216;&#x521b;&#x5efa;&#x4f60;&#x81ea;&#x5df1;&#x7684;&#x914d;&#x7f6e;&#x6784;
&#x5efa;&#x5668;,MyBatis &#x4e5f;&#x63d0;&#x4f9b;&#x5b8c;&#x6574;&#x7684;&#x914d;&#x7f6e;&#x7c7b;,&#x63d0;&#x4f9b;&#x6240;&#x6709;&#x4ece; XML &#x6587;&#x4ef6;&#x4e2d;&#x52a0;&#x8f7d;&#x914d;&#x7f6e;&#x4fe1;&#x606f;&#x7684;&#x9009;&#x9879;&#x3002;

      </p>
      
<div class="source">
<pre>DataSource dataSource = BlogDataSourceFactory.getBlogDataSource();
TransactionFactory transactionFactory = new JdbcTransactionFactory();
Environment environment = new Environment(&quot;development&quot;, transactionFactory, dataSource);
Configuration configuration = new Configuration(environment);
configuration.addMapper(BlogMapper.class);
SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(configuration);</pre></div>
      
<p>
&#x6ce8;&#x610f;&#x8fd9;&#x79cd;&#x60c5;&#x51b5;&#x4e0b;&#x914d;&#x7f6e;&#x662f;&#x6dfb;&#x52a0;&#x6620;&#x5c04;&#x7c7b;&#x3002;&#x6620;&#x5c04;&#x7c7b;&#x662f; Java &#x7c7b;,&#x8fd9;&#x4e9b;&#x7c7b;&#x5305;&#x542b; SQL &#x6620;&#x5c04;&#x8bed;&#x53e5;&#x7684;&#x6ce8;
&#x89e3;&#x4ece;&#x800c;&#x907f;&#x514d;&#x4e86; XML &#x6587;&#x4ef6;&#x7684;&#x4f9d;&#x8d56;,
XML &#x6620;&#x5c04;&#x4ecd;&#x7136;&#x5728;&#x5927;&#x591a;&#x6570;&#x9ad8;&#x7ea7;&#x6620;&#x5c04;
(&#x6bd4;&#x5982;:
&#x5d4c;&#x5957; Join &#x6620;&#x5c04;)
&#x65f6;&#x9700;&#x8981;&#x3002;&#x51fa;&#x4e8e;&#x8fd9;&#x6837;&#x7684;&#x539f;&#x56e0;,&#x5982;&#x679c;&#x5b58;&#x5728; XML &#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x7684;&#x8bdd;,MyBatis &#x5c06;&#x4f1a;&#x81ea;&#x52a8;&#x67e5;&#x627e;&#x548c;&#x52a0;&#x8f7d;&#x4e00;
&#x4e2a;&#x5bf9;&#x7b49;&#x7684; XML &#x6587;&#x4ef6;(&#x8fd9;&#x79cd;&#x60c5;&#x51b5;&#x4e0b;,&#x57fa;&#x4e8e;&#x7c7b;&#x8def;&#x5f84;&#x4e0b;&#x7684; BlogMapper.class &#x7c7b;&#x7684;&#x7c7b;&#x540d;,&#x90a3;&#x4e48;
BlogMapper.xml &#x5c06;&#x4f1a;&#x88ab;&#x52a0;&#x8f7d;)&#x3002;&#x540e;&#x9762;&#x6211;&#x4eec;&#x4f1a;&#x4e86;&#x89e3;&#x66f4;&#x591a;&#x3002;
      </p>
    </div>
    
<div class="section">
<h3>&#x4ece; SqlSessionFactory &#x4e2d;&#x83b7;&#x53d6; SqlSession<a name="a_SqlSessionFactory__SqlSession"></a></h3>
      
<p>
&#x73b0;&#x5728;,&#x6211;&#x4eec;&#x5df2;&#x7ecf;&#x77e5;&#x9053;&#x5982;&#x4f55;&#x83b7;&#x53d6; SqlSessionFactory &#x5bf9;&#x8c61;&#x4e86;,&#x57fa;&#x4e8e;&#x540c;&#x6837;&#x7684;&#x542f;&#x793a;,&#x6211;&#x4eec;&#x5c31;&#x53ef;&#x4ee5;
&#x83b7;&#x5f97; SqlSession &#x7684;&#x5b9e;&#x4f8b;&#x4e86;&#x3002;
SqlSession &#x5bf9;&#x8c61;&#x5b8c;&#x5168;&#x5305;&#x542b;&#x4ee5;&#x6570;&#x636e;&#x5e93;&#x4e3a;&#x80cc;&#x666f;&#x7684;&#x6240;&#x6709;&#x6267;&#x884c; SQL &#x64cd;&#x4f5c;&#x7684;
&#x65b9;&#x6cd5;&#x3002;&#x4f60;&#x53ef;&#x4ee5;&#x7528; SqlSession &#x5b9e;&#x4f8b;&#x6765;&#x76f4;&#x63a5;&#x6267;&#x884c;&#x5df2;&#x6620;&#x5c04;&#x7684; SQL &#x8bed;&#x53e5;&#x3002;&#x4f8b;&#x5982;:
      </p>
      
<div class="source">
<pre>SqlSession session = sqlSessionFactory.openSession();
try {
  Blog blog = (Blog) session.selectOne(&quot;org.mybatis.example.BlogMapper.selectBlog&quot;, 101);
} finally {
  session.close();
}</pre></div>
      
<p>
&#x8fd9;&#x79cd;&#x65b9;&#x6cd5;&#x8d77;&#x5230;&#x7684;&#x4f5c;&#x7528;,
&#x548c;&#x6211;&#x4eec;&#x4f7f;&#x7528;&#x4e4b;&#x524d;&#x7684; MyBatis &#x7248;&#x672c;&#x662f;&#x76f8;&#x4f3c;&#x7684;,
&#x73b0;&#x5728;&#x6709;&#x4e00;&#x79cd;&#x66f4;&#x7b80;&#x6d01;&#x7684;
&#x65b9;&#x6cd5;&#x3002;&#x4f7f;&#x7528;&#x5408;&#x7406;&#x63cf;&#x8ff0;&#x53c2;&#x6570;&#x548c; SQL &#x8bed;&#x53e5;&#x8fd4;&#x56de;&#x503c;&#x7684;&#x63a5;&#x53e3;(&#x6bd4;&#x5982; BlogMapper.class)
,&#x8fd9;&#x6837;&#x73b0;&#x5728;&#x5c31;
&#x53ef;&#x4ee5;&#x81f3;&#x6b64;&#x90a3;&#x4e2a;&#x66f4;&#x7b80;&#x5355;,&#x66f4;&#x5b89;&#x5168;&#x7684;&#x4ee3;&#x7801;,&#x6ca1;&#x6709;&#x5bb9;&#x6613;&#x53d1;&#x751f;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#x6587;&#x5b57;&#x548c;&#x8f6c;&#x6362;&#x7684;&#x9519;&#x8bef;&#x3002;
      </p>
      
<p>
&#x4f8b;&#x5982;:
      </p>
      
<div class="source">
<pre>SqlSession session = sqlSessionFactory.openSession();
try {
  BlogMapper mapper = session.getMapper(BlogMapper.class);
  Blog blog = mapper.selectBlog(101);
} finally {
  session.close();
}</pre></div>
      
<p>
&#x73b0;&#x5728;&#x6211;&#x4eec;&#x6765;&#x63a2;&#x7a76;&#x4e00;&#x4e0b;&#x8fd9;&#x91cc;&#x5230;&#x5e95;&#x6267;&#x884c;&#x4e86;&#x4ec0;&#x4e48;&#x3002;
      </p>
    </div>
    
<div class="section">
<h3>&#x63a2;&#x7a76;&#x5df2;&#x6620;&#x5c04;&#x7684; SQL &#x8bed;&#x53e5;<a name="a_SQL_"></a></h3>
      
<p>
&#x8fd9;&#x91cc;&#x4f60;&#x4e5f;&#x8bb8;&#x60f3;&#x77e5;&#x9053;&#x901a;&#x8fc7; SqlSession &#x548c; Mapper &#x5bf9;&#x8c61;&#x5230;&#x5e95;&#x6267;&#x884c;&#x4e86;&#x4ec0;&#x4e48;&#x64cd;&#x4f5c;&#x3002;&#x5df2;&#x6620;&#x5c04;&#x7684; SQL
&#x8bed;&#x53e5;&#x662f;&#x4e00;&#x4e2a;&#x5f88;&#x5927;&#x7684;&#x4e3b;&#x9898;,
&#x800c;&#x4e14;&#x8fd9;&#x4e2a;&#x4e3b;&#x9898;&#x4f1a;&#x8d2f;&#x7a7f;&#x672c;&#x6587;&#x6863;&#x7684;&#x5927;&#x90e8;&#x5206;&#x5185;&#x5bb9;&#x3002;
&#x4e3a;&#x4e86;&#x7ed9;&#x51fa;&#x4e00;&#x4e2a;&#x5b8f;&#x89c2;&#x7684;&#x6982;
&#x5ff5;,&#x8fd9;&#x91cc;&#x6709;&#x4e00;&#x4e9b;&#x793a;&#x4f8b;&#x3002;
&#x4e0a;&#x9762;&#x63d0;&#x5230;&#x7684;&#x4efb;&#x4f55;&#x4e00;&#x4e2a;&#x793a;&#x4f8b;,&#x8bed;&#x53e5;&#x662f;&#x901a;&#x8fc7; XML &#x6216;&#x6ce8;&#x89e3;&#x5b9a;&#x4e49;&#x7684;&#x3002;&#x6211;&#x4eec;&#x5148;&#x6765;&#x770b;&#x770b; XML&#x3002;&#x4f7f;
&#x7528;&#x57fa;&#x4e8e; XML &#x7684;&#x6620;&#x5c04;&#x8bed;&#x8a00;,&#x5728;&#x8fc7;&#x53bb;&#x7684;&#x51e0;&#x5e74;&#x4e2d;&#x4f7f;&#x5f97; MyBatis &#x975e;&#x5e38;&#x6d41;&#x884c;,&#x4ed6;&#x4e3a; MyBatis &#x63d0;&#x4f9b;&#x6240;&#x6709;
&#x7684;&#x7279;&#x6027;&#x8bbe;&#x7f6e;&#x3002;&#x5982;&#x679c;&#x4f60;&#x4ee5;&#x524d;&#x7528;&#x8fc7; MyBatis,&#x8fd9;&#x4e2a;&#x6982;&#x5ff5;&#x5e94;&#x8be5;&#x5f88;&#x719f;&#x6089;&#x4e86;,&#x4f46;&#x662f; XML &#x6620;&#x5c04;&#x6587;&#x4ef6;&#x4e5f;&#x6709;
&#x5f88;&#x591a;&#x7684;&#x6539;&#x8fdb;,&#x540e;&#x9762;&#x6211;&#x4eec;&#x4f1a;&#x8be6;&#x7ec6;&#x6765;&#x8bf4;&#x3002;&#x8fd9;&#x91cc;&#x7ed9;&#x51fa;&#x4e00;&#x4e2a;&#x57fa;&#x4e8e; XML &#x6620;&#x5c04;&#x8bed;&#x53e5;&#x7684;&#x793a;&#x4f8b;,&#x8fd9;&#x4e9b;&#x8bed;&#x53e5;&#x5e94;
&#x8be5;&#x53ef;&#x4ee5;&#x6ee1;&#x8db3;&#x4e0a;&#x8ff0;&#x793a;&#x4f8b;&#x4e2d; SqlSession &#x5bf9;&#x8c61;&#x7684;&#x8c03;&#x7528;&#x3002;
      </p>
      
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE mapper
  PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
  &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;
&lt;mapper namespace=&quot;org.mybatis.example.BlogMapper&quot;&gt;
  &lt;select id=&quot;selectBlog&quot; resultType=&quot;Blog&quot;&gt;
    select * from Blog where id = #{id}
  &lt;/select&gt;
&lt;/mapper&gt;</pre></div>
      
<p>
&#x8fd9;&#x4e2a;&#x7b80;&#x5355;&#x7684;&#x4f8b;&#x5b50;&#x4e2d;&#x770b;&#x8d77;&#x6765;&#x6709;&#x5f88;&#x591a;&#x989d;&#x5916;&#x7684;&#x4e1c;&#x897f;,
&#x4f46;&#x662f;&#x4e5f;&#x76f8;&#x5f53;&#x7b80;&#x6d01;&#x4e86;&#x3002;
&#x4f60;&#x53ef;&#x4ee5;&#x5728;&#x4e00;&#x4e2a;&#x5355;&#x72ec;&#x7684;
XML &#x6620;&#x5c04;&#x6587;&#x4ef6;&#x4e2d;&#x5b9a;&#x4e49;&#x5f88;&#x591a;&#x7684;&#x6620;&#x5c04;&#x8bed;&#x53e5;,&#x9664; XML &#x5934;&#x90e8;&#x548c;&#x6587;&#x6863;&#x7c7b;&#x578b;&#x58f0;&#x660e;&#x4e4b;&#x5916;,&#x4f60;&#x53ef;&#x4ee5;&#x5f97;&#x5230;&#x5f88;
&#x591a; &#x65b9; &#x4fbf; &#x4e4b; &#x5904; &#x3002; &#x5728; &#x6587; &#x4ef6; &#x7684; &#x5269; &#x4f59; &#x90e8; &#x5206; &#x662f; &#x5f88; &#x597d; &#x7684; &#x81ea; &#x6211; &#x89e3; &#x91ca; &#x3002; &#x5728; &#x547d; &#x540d; &#x7a7a; &#x95f4;
&#x201c;com.mybatis.example.BlogMapper&#x201d;&#x4e2d;,&#x5b83;&#x5b9a;&#x4e49;&#x4e86;&#x4e00;&#x4e2a;&#x540d;&#x4e3a;&#x201c;selectBlog&#x201d;&#x7684;&#x6620;&#x5c04;&#x8bed;&#x53e5;,&#x8fd9;
&#x6837;&#x5b83;&#x5141;&#x8bb8;&#x4f60;&#x4f7f;&#x7528;&#x5b8c;&#x5168;&#x9650;&#x5b9a;&#x540d;
&#x201c;org.mybatis.example.BlogMapper.selectBlog&#x201d;
&#x6765;&#x8c03;&#x7528;&#x6620;&#x5c04;&#x8bed;&#x53e5;,
&#x6211;&#x4eec;&#x4e0b;&#x9762;&#x793a;&#x4f8b;&#x4e2d;&#x6240;&#x6709;&#x7684;&#x5199;&#x6cd5;&#x4e5f;&#x662f;&#x8fd9;&#x6837;&#x7684;&#x3002;
      </p>
      
<div class="source">
<pre>Blog blog = (Blog) session.selectOne(&quot;org.mybatis.example.BlogMapper.selectBlog&quot;, 101);</pre></div>
      
<p>
&#x8981;&#x6ce8;&#x610f;&#x8fd9;&#x4e2a;&#x4f7f;&#x7528;&#x5b8c;&#x5168;&#x9650;&#x5b9a;&#x540d;&#x8c03;&#x7528; Java &#x5bf9;&#x8c61;&#x7684;&#x65b9;&#x6cd5;&#x662f;&#x76f8;&#x4f3c;&#x7684;,&#x8fd9;&#x6837;&#x505a;&#x662f;&#x6709;&#x539f;&#x56e0;&#x7684;&#x3002;&#x8fd9;&#x4e2a;
&#x547d;&#x540d;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x7ed9;&#x76f8;&#x540c;&#x547d;&#x540d;&#x7a7a;&#x95f4;&#x4e0b;&#x7684;&#x7684;&#x6620;&#x5c04;&#x7c7b;,
&#x4f7f;&#x7528;&#x4e00;&#x4e2a;&#x540d;&#x79f0;,
&#x53c2;&#x6570;&#x548c;&#x8fd4;&#x56de;&#x503c;&#x548c;&#x5df2;&#x6620;&#x5c04;&#x7684;&#x67e5;&#x8be2;
&#x8bed;&#x53e5;&#x90fd;&#x4e00;&#x6837;&#x7684;&#x65b9;&#x6cd5;&#x5373;&#x53ef;&#x3002;
&#x8fd9;&#x5c31;&#x5141;&#x8bb8;&#x4f60;&#x975e;&#x5e38;&#x5bb9;&#x6613;&#x5730;&#x8c03;&#x7528;&#x6620;&#x5c04;&#x5668;&#x63a5;&#x53e3;&#x4e2d;&#x7684;&#x65b9;&#x6cd5;,
&#x8fd9;&#x548c;&#x4f60;&#x524d;&#x9762;&#x770b;&#x5230;
&#x7684;&#x662f;&#x4e00;&#x6837;&#x7684;,&#x4e0b;&#x9762;&#x8fd9;&#x4e2a;&#x793a;&#x4f8b;&#x4e2d;&#x5b83;&#x53c8;&#x51fa;&#x73b0;&#x4e86;&#x3002;
      </p>
      
<div class="source">
<pre>BlogMapper mapper = session.getMapper(BlogMapper.class);
Blog blog = mapper.selectBlog(101);</pre></div>
      
<p>
&#x7b2c;&#x4e8c;&#x79cd;&#x65b9;&#x5f0f;&#x6709;&#x5f88;&#x591a;&#x6709;&#x70b9;,&#x9996;&#x5148;&#x5b83;&#x4e0d;&#x662f;&#x57fa;&#x4e8e;&#x6587;&#x5b57;&#x7684;,&#x90a3;&#x5c31;&#x66f4;&#x5b89;&#x5168;&#x4e86;&#x3002;&#x7b2c;&#x4e8c;,&#x5982;&#x679c;&#x4f60;&#x7684; IDE
&#x6709;&#x4ee3;&#x7801;&#x8865;&#x5168;&#x529f;&#x80fd;,&#x90a3;&#x4e48;&#x4f60;&#x53ef;&#x4ee5;&#x5229;&#x7528;&#x5b83;&#x6765;&#x64cd;&#x7eb5;&#x5df2;&#x6620;&#x5c04;&#x7684; SQL &#x8bed;&#x53e5;&#x3002;&#x7b2c;&#x4e09;,&#x4e0d;&#x9700;&#x8981;&#x5f3a;&#x5236;&#x7c7b;&#x578b;&#x8f6c;
&#x6362;,&#x540c;&#x65f6; BlogMapper &#x63a5;&#x53e3;&#x53ef;&#x4ee5;&#x4fdd;&#x6301;&#x7b80;&#x6d01;,&#x8fd4;&#x56de;&#x503c;&#x7c7b;&#x578b;&#x5f88;&#x5b89;&#x5168;(&#x53c2;&#x6570;&#x7c7b;&#x578b;&#x4e5f;&#x5f88;&#x5b89;&#x5168;)
&#x3002;    </p>
      <hr />
      
<p>
        <span class="label important">&#x91cd;&#x8981;</span>
        <b>&#x547d;&#x540d;&#x7a7a;&#x95f4;&#x7684;&#x4e00;&#x70b9;&#x6ce8;&#x91ca;</b>
      </p>
      
<p>
        <b>&#x547d;&#x540d;&#x7a7a;&#x95f4;</b>
&#x5728;&#x4e4b;&#x524d;&#x7248;&#x672c;&#x7684; MyBatis &#x4e2d;&#x662f;&#x53ef;&#x9009;&#x9879;,&#x975e;&#x5e38;&#x6df7;&#x4e71;&#x4e5f;&#x6ca1;&#x6709;&#x5e2e;&#x52a9;&#x3002;&#x73b0;&#x5728;,&#x547d;&#x540d;&#x7a7a;&#x95f4;
&#x662f;&#x5fc5;&#x987b;&#x7684;,&#x800c;&#x4e14;&#x6709;&#x4e00;&#x4e2a;&#x76ee;&#x7684;,&#x5b83;&#x4f7f;&#x7528;&#x66f4;&#x957f;&#x7684;&#x5b8c;&#x5168;&#x9650;&#x5b9a;&#x540d;&#x6765;&#x9694;&#x79bb;&#x8bed;&#x53e5;&#x3002;
      </p>
      
<p>
&#x547d;&#x540d;&#x7a7a;&#x95f4;&#x4f7f;&#x5f97;&#x63a5;&#x53e3;&#x7ed1;&#x5b9a;&#x6210;&#x4e3a;&#x53ef;&#x80fd;,&#x5c31;&#x50cf;&#x4f60;&#x770b;&#x5230;&#x7684;&#x90a3;&#x6837;,&#x5982;&#x679c;&#x4e4b;&#x524d;&#x4e0d;&#x4e86;&#x89e3;,&#x90a3;&#x4e48;&#x73b0;&#x5728;&#x4f60;
&#x5c31;&#x4f1a;&#x4f7f;&#x7528;&#x5b83;&#x4eec;&#x4e86;,&#x4f60;&#x5e94;&#x8be5;&#x6309;&#x7167;&#x4e0b;&#x9762;&#x7ed9;&#x51fa;&#x793a;&#x4f8b;&#x7684;&#x6765;&#x7ec3;&#x4e60;,&#x4ee5;&#x514d;&#x6539;&#x53d8;&#x81ea;&#x5df1;&#x7684;&#x60f3;&#x6cd5;&#x3002;&#x4f7f;&#x7528;&#x547d;&#x540d;&#x7a7a;
&#x95f4;,&#x5e76;&#x5c06;&#x5b83;&#x653e;&#x5728;&#x5408;&#x9002;&#x7684; Java &#x5305;&#x7a7a;&#x95f4;&#x4e4b;&#x4e0b;,&#x5c06;&#x4f1a;&#x4f7f;&#x4f60;&#x7684;&#x4ee3;&#x7801;&#x53d8;&#x5f97;&#x7b80;&#x6d01;,&#x5728;&#x5f88;&#x957f;&#x7684;&#x65f6;&#x95f4;&#x5185;&#x63d0;&#x9ad8;
MyBatis &#x7684;&#x4f5c;&#x7528;&#x3002;
      </p>
      
<p>
        <b>&#x547d;&#x540d;&#x89e3;&#x6790;:</b> &#x4e3a;&#x4e86;&#x51cf;&#x5c11;&#x8f93;&#x5165;&#x91cf;,MyBatis &#x5bf9;&#x6240;&#x6709;&#x7684;&#x547d;&#x540d;&#x914d;&#x7f6e;&#x5143;&#x7d20;&#x4f7f;&#x7528;&#x5982;&#x4e0b;&#x7684;&#x547d;&#x540d;&#x89e3;&#x6790;&#x89c4;
&#x5219;,&#x5305;&#x62ec;&#x8bed;&#x53e5;,&#x7ed3;&#x679c;&#x6620;&#x5c04;,&#x7f13;&#x5b58;&#x7b49;&#x3002;
      </p>
      
<ul>
        
<li>&#x76f4;&#x63a5;&#x67e5;&#x627e;&#x5b8c;&#x5168;&#x9650;&#x5b9a;&#x540d;(&#x6bd4;&#x5982;&#x201c;com.mypackage.MyMapper.selectAllThings&#x201d;,&#x5982;&#x679c;
) &#x53d1;&#x73b0;&#x5c31;&#x4f7f;&#x7528;&#x3002;
        </li>
        
<li>&#x77ed;&#x540d;&#x79f0;(&#x6bd4;&#x5982;&#x201c;selectAllThings&#x201d;
)&#x53ef;&#x4ee5;&#x7528;&#x6765;&#x5f15;&#x7528;&#x4efb;&#x610f;&#x542b;&#x7cca;&#x7684;&#x5bf9;&#x8c61;&#x3002;&#x800c;&#x5982;&#x679c;&#x6709;&#x4e24;&#x4e2a;
&#x6216;&#x4e24;&#x4e2a;&#x4ee5;&#x4e0a;&#x7684;(&#x6bd4;&#x5982;&#x201c;com.foo.selectAllThings &#x201d;&#x548c;&#x201c;com.bar.selectAllThings&#x201d;
), &#x90a3;&#x4e48;&#x5c31;&#x4f1a;&#x5f97;&#x5230;&#x9519;&#x8bef;&#x62a5;&#x544a;,&#x8bf4;&#x77ed;&#x540d;&#x79f0;&#x662f;&#x542b;&#x7cca;&#x7684;,&#x56e0;&#x6b64;&#x5c31;&#x5fc5;&#x987b;&#x4f7f;&#x7528;&#x5b8c;&#x5168;&#x9650;&#x5b9a;&#x540d;&#x3002;
        </li>
      </ul>
      <hr />
      
<p>
&#x5982; BlogMapper &#x8fd9;&#x6837;&#x7684;&#x6620;&#x5c04;&#x5668;&#x7c7b;&#x6765;&#x8bf4;,&#x8fd8;&#x6709;&#x4e00;&#x4e2a;&#x5999;&#x62db;&#x3002;&#x5b83;&#x4eec;&#x4e2d;&#x95f4;&#x6620;&#x5c04;&#x7684;&#x8bed;&#x53e5;&#x53ef;&#x4ee5;&#x4e0d;&#x9700;&#x8981;
&#x5728; XML &#x4e2d;&#x6765;&#x5199;,&#x800c;&#x53ef;&#x4ee5;&#x4f7f;&#x7528; Java &#x6ce8;&#x89e3;&#x6765;&#x66ff;&#x6362;&#x3002;&#x6bd4;&#x5982;,&#x4e0a;&#x9762;&#x7684; XML &#x793a;&#x4f8b;&#x53ef;&#x4ee5;&#x5982;&#x4e0b;&#x6765;&#x66ff;&#x6362;:
      </p>
      
<div class="source">
<pre>package org.mybatis.example;
public interface BlogMapper {
  @Select(&quot;SELECT * FROM blog WHERE id = #{id}&quot;)
  Blog selectBlog(int id);
}</pre></div>
      
<p>
&#x5bf9;&#x4e8e;&#x7b80;&#x5355;&#x8bed;&#x53e5;&#x6765;&#x8bf4;,&#x4f7f;&#x7528;&#x6ce8;&#x89e3;&#x4ee3;&#x7801;&#x4f1a;&#x66f4;&#x52a0;&#x6e05;&#x6670;,&#x7136;&#x800c; Java &#x6ce8;&#x89e3;&#x5bf9;&#x4e8e;&#x590d;&#x6742;&#x8bed;&#x53e5;&#x6765;&#x8bf4;&#x5c31;&#x4f1a;
&#x6df7;&#x4e71;,
&#x5e94;&#x8be5;&#x9650;&#x5236;&#x4f7f;&#x7528;&#x3002;
&#x56e0;&#x6b64;,
&#x5982;&#x679c;&#x4f60;&#x4e0d;&#x5f97;&#x4e0d;&#x505a;&#x590d;&#x6742;&#x7684;&#x4e8b;&#x60c5;,
&#x90a3;&#x4e48;&#x6700;&#x597d;&#x4f7f;&#x7528; XML &#x6765;&#x6620;&#x5c04;&#x8bed;&#x53e5;&#x3002;
      </p>
      
<p>
&#x5f53;&#x7136;&#x8fd9;&#x4e5f;&#x53d6;&#x51b3;&#x4e8e;&#x4f60;&#x548c;&#x4f60;&#x7684;&#x9879;&#x76ee;&#x56e2;&#x961f;&#x7684;&#x51b3;&#x5b9a;,
&#x770b;&#x54ea;&#x79cd;&#x66f4;&#x9002;&#x5408;&#x4f60;&#x6765;&#x4f7f;&#x7528;,
&#x8fd8;&#x6709;&#x4ee5;&#x957f;&#x4e45;&#x65b9;&#x5f0f;&#x6765;
&#x4f7f;&#x7528;&#x6620;&#x5c04;&#x8bed;&#x53e5;&#x7684;&#x91cd;&#x8981;&#x6027;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;,&#x4e0d;&#x8981;&#x5c06;&#x81ea;&#x5df1;&#x5c40;&#x9650;&#x5728;&#x4e00;&#x79cd;&#x65b9;&#x5f0f;&#x4e2d;&#x3002;&#x4f60;&#x53ef;&#x4ee5;&#x8f7b;&#x677e;&#x5730;&#x5c06;&#x6ce8;&#x89e3;&#x6362;
&#x6210; XML &#x6620;&#x5c04;&#x8bed;&#x53e5;,&#x53cd;&#x4e4b;&#x4ea6;&#x7136;&#x3002;
      </p>
    </div>
    
<div class="section">
<h3>&#x8303;&#x56f4;&#x548c;&#x751f;&#x547d;&#x5468;&#x671f;<a name="a"></a></h3>
      
<p>
&#x7406;&#x89e3;&#x6211;&#x4eec;&#x76ee;&#x524d;&#x5df2;&#x7ecf;&#x8ba8;&#x8bba;&#x8fc7;&#x7684;&#x4e0d;&#x540c;&#x8303;&#x56f4;&#x548c;&#x751f;&#x547d;&#x5468;&#x671f;&#x7c7b;&#x662f;&#x5f88;&#x91cd;&#x8981;&#x7684;&#x3002;
&#x4e0d;&#x6b63;&#x786e;&#x7684;&#x4f7f;&#x7528;&#x5b83;&#x4eec;&#x4f1a;&#x5bfc;
&#x81f4;&#x4e25;&#x91cd;&#x7684;&#x5e76;&#x53d1;&#x95ee;&#x9898;&#x3002;
      </p>
      <hr />
      
<p><span class="label important">&#x91cd;&#x8981;</span>
        <b>Object lifecycle and Dependency Injection Frameworks</b>
      </p>
      
<p>
        Dependency Injection frameworks can create thread safe, transactional SqlSessions and mappers 
        and inject them directly into your beans so you can just forget about their lifecycle. 
        You may want to have a look at MyBatis-Spring or
        MyBatis-Guice sub-projects to know more about using MyBatis with DI frameworks.
      </p>
      <hr />
      
<div class="section">
<h4>SqlSessionFactoryBuilder<a name="SqlSessionFactoryBuilder"></a></h4>
        
<p>
&#x8fd9;&#x4e2a;&#x7c7b;&#x53ef;&#x4ee5;&#x88ab;&#x5b9e;&#x4f8b;&#x5316;,&#x4f7f;&#x7528;&#x548c;&#x4e22;&#x5f03;&#x3002;&#x4e00;&#x65e6;&#x4f60;&#x521b;&#x5efa;&#x4e86; SqlSessionFactory &#x540e;,&#x8fd9;&#x4e2a;&#x7c7b;&#x5c31;&#x4e0d;&#x9700;
&#x8981;&#x5b58;&#x5728;&#x4e86;&#x3002;
&#x56e0;&#x6b64; SqlSessionFactoryBuilder &#x5b9e;&#x4f8b;&#x7684;&#x6700;&#x4f73;&#x8303;&#x56f4;&#x662f;&#x65b9;&#x6cd5;&#x8303;&#x56f4;
(&#x4e5f;&#x5c31;&#x662f;&#x672c;&#x5730;&#x65b9;&#x6cd5;&#x53d8;&#x91cf;)&#x3002;
&#x4f60;&#x53ef;&#x4ee5;&#x91cd;&#x7528; SqlSessionFactoryBuilder &#x6765;&#x521b;&#x5efa;&#x591a;&#x4e2a; SqlSessionFactory &#x5b9e;&#x4f8b;,
&#x4f46;&#x662f;&#x6700;&#x597d;&#x7684;&#x65b9;&#x5f0f;&#x662f;
&#x4e0d;&#x9700;&#x8981;&#x4fdd;&#x6301;&#x5b83;&#x4e00;&#x76f4;&#x5b58;&#x5728;&#x6765;&#x4fdd;&#x8bc1;&#x6240;&#x6709; XML &#x89e3;&#x6790;&#x8d44;&#x6e90;,&#x56e0;&#x4e3a;&#x8fd8;&#x6709;&#x66f4;&#x91cd;&#x8981;&#x7684;&#x4e8b;&#x60c5;&#x8981;&#x505a;&#x3002;
        </p>
      </div>
<div class="section">
<h4>SqlSessionFactory<a name="SqlSessionFactory"></a></h4>
        
<p>
&#x4e00;&#x65e6;&#x88ab;&#x521b;&#x5efa;,SqlSessionFactory &#x5e94;&#x8be5;&#x5728;&#x4f60;&#x7684;&#x5e94;&#x7528;&#x6267;&#x884c;&#x671f;&#x95f4;&#x90fd;&#x5b58;&#x5728;&#x3002;&#x6ca1;&#x6709;&#x7406;&#x7531;&#x6765;&#x5904;&#x7406;&#x6216;&#x91cd;
&#x65b0;&#x521b;&#x5efa;&#x5b83;&#x3002;
&#x4f7f;&#x7528; SqlSessionFactory &#x7684;&#x6700;&#x4f73;&#x5b9e;&#x8df5;&#x662f;&#x5728;&#x5e94;&#x7528;&#x8fd0;&#x884c;&#x671f;&#x95f4;&#x4e0d;&#x8981;&#x91cd;&#x590d;&#x521b;&#x5efa;&#x591a;&#x6b21;&#x3002;
&#x8fd9;&#x6837;&#x7684;
&#x64cd;&#x4f5c;&#x5c06;&#x88ab;&#x89c6;&#x4e3a;&#x662f;&#x975e;&#x5e38;&#x7cdf;&#x7cd5;&#x7684;&#x3002;
&#x56e0;&#x6b64; SqlSessionFactory &#x7684;&#x6700;&#x4f73;&#x8303;&#x56f4;&#x662f;&#x5e94;&#x7528;&#x8303;&#x56f4;&#x3002;
&#x6709;&#x5f88;&#x591a;&#x65b9;&#x6cd5;&#x53ef;
&#x4ee5;&#x505a;&#x5230;,
&#x6700;&#x7b80;&#x5355;&#x7684;&#x5c31;&#x662f;&#x4f7f;&#x7528;&#x5355;&#x4f8b;&#x6a21;&#x5f0f;&#x6216;&#x8005;&#x9759;&#x6001;&#x5355;&#x4f8b;&#x6a21;&#x5f0f;&#x3002;
        </p>
      </div>
<div class="section">
<h4>SqlSession<a name="SqlSession"></a></h4>
        
<p>
&#x6bcf;&#x4e2a;&#x7ebf;&#x7a0b;&#x90fd;&#x5e94;&#x8be5;&#x6709;&#x5b83;&#x81ea;&#x5df1;&#x7684; SqlSession &#x5b9e;&#x4f8b;&#x3002;SqlSession &#x7684;&#x5b9e;&#x4f8b;&#x4e0d;&#x80fd;&#x88ab;&#x5171;&#x4eab;,&#x4e5f;&#x662f;&#x7ebf;&#x7a0b;
&#x4e0d;&#x5b89;&#x5168;&#x7684;&#x3002;&#x56e0;&#x6b64;&#x6700;&#x4f73;&#x7684;&#x8303;&#x56f4;&#x662f;&#x8bf7;&#x6c42;&#x6216;&#x65b9;&#x6cd5;&#x8303;&#x56f4;&#x3002;&#x7edd;&#x5bf9;&#x4e0d;&#x80fd;&#x5c06; SqlSession &#x5b9e;&#x4f8b;&#x7684;&#x5f15;&#x7528;&#x653e;&#x5728;&#x4e00;&#x4e2a;
&#x7c7b;&#x7684;&#x9759;&#x6001;&#x5b57;&#x6bb5;&#x751a;&#x81f3;&#x662f;&#x5b9e;&#x4f8b;&#x5b57;&#x6bb5;&#x4e2d;&#x3002;
&#x4e5f;&#x7edd;&#x4e0d;&#x80fd;&#x5c06; SqlSession &#x5b9e;&#x4f8b;&#x7684;&#x5f15;&#x7528;&#x653e;&#x5728;&#x4efb;&#x4f55;&#x7c7b;&#x578b;&#x7684;&#x7ba1;&#x7406;&#x8303;
&#x56f4;&#x4e2d;,
&#x6bd4;&#x5982; Serlvet &#x67b6;&#x6784;&#x4e2d;&#x7684; HttpSession&#x3002;
&#x5982;&#x679c;&#x4f60;&#x73b0;&#x5728;&#x6b63;&#x7528;&#x4efb;&#x610f;&#x7684; Web &#x6846;&#x67b6;,
&#x8981;&#x8003;&#x8651; SqlSession
&#x653e;&#x5728;&#x4e00;&#x4e2a;&#x548c; HTTP &#x8bf7;&#x6c42;&#x5bf9;&#x8c61;&#x76f8;&#x4f3c;&#x7684;&#x8303;&#x56f4;&#x5185;&#x3002;&#x6362;&#x53e5;&#x8bdd;&#x8bf4;,&#x57fa;&#x4e8e;&#x6536;&#x5230;&#x7684; HTTP &#x8bf7;&#x6c42;,&#x4f60;&#x53ef;&#x4ee5;&#x6253;&#x5f00;
&#x4e86;&#x4e00;&#x4e2a; SqlSession,&#x7136;&#x540e;&#x8fd4;&#x56de;&#x54cd;&#x5e94;,&#x5c31;&#x53ef;&#x4ee5;&#x5173;&#x95ed;&#x5b83;&#x4e86;&#x3002;&#x5173;&#x95ed; Session &#x5f88;&#x91cd;&#x8981;,&#x4f60;&#x5e94;&#x8be5;&#x786e;&#x4fdd;&#x4f7f;
&#x7528; finally &#x5757;&#x6765;&#x5173;&#x95ed;&#x5b83;&#x3002;&#x4e0b;&#x9762;&#x7684;&#x793a;&#x4f8b;&#x5c31;&#x662f;&#x4e00;&#x4e2a;&#x786e;&#x4fdd; SqlSession &#x5173;&#x95ed;&#x7684;&#x57fa;&#x672c;&#x6a21;&#x5f0f;:
        </p>
        
<div class="source">
<pre>SqlSession session = sqlSessionFactory.openSession();
try {
  // do work
} finally {
  session.close();
}</pre></div>
        
<p>
&#x5728;&#x4f60;&#x7684;&#x4ee3;&#x7801;&#x4e2d;&#x4e00;&#x8d2f;&#x5730;&#x4f7f;&#x7528;&#x8fd9;&#x79cd;&#x6a21;&#x5f0f;,
&#x5c06;&#x4f1a;&#x4fdd;&#x8bc1;&#x6240;&#x6709;&#x6570;&#x636e;&#x5e93;&#x8d44;&#x6e90;&#x90fd;&#x6b63;&#x786e;&#x5730;&#x5173;&#x95ed;
(&#x5047;&#x8bbe;&#x4f60;&#x6ca1;
&#x6709;&#x901a;&#x8fc7;&#x4f60;&#x81ea;&#x5df1;&#x7684;&#x8fde;&#x63a5;&#x5173;&#x95ed;,&#x8fd9;&#x4f1a;&#x7ed9; MyBatis &#x9020;&#x6210;&#x4e00;&#x79cd;&#x8ff9;&#x8c61;&#x8868;&#x660e;&#x4f60;&#x8981;&#x81ea;&#x5df1;&#x7ba1;&#x7406;&#x8fde;&#x63a5;&#x8d44;&#x6e90;)
&#x3002;        </p>
      </div>
<div class="section">
<h4>Mapper &#x5b9e;&#x4f8b;<a name="Mapper_"></a></h4>
        
<p>
&#x6620;&#x5c04;&#x5668;&#x662f;&#x4f60;&#x521b;&#x5efa;&#x7ed1;&#x5b9a;&#x6620;&#x5c04;&#x8bed;&#x53e5;&#x7684;&#x63a5;&#x53e3;&#x3002;&#x6620;&#x5c04;&#x5668;&#x63a5;&#x53e3;&#x7684;&#x5b9e;&#x4f8b;&#x53ef;&#x4ee5;&#x4ece; SqlSession &#x4e2d;&#x83b7;&#x5f97;&#x3002;&#x90a3;
&#x4e48;&#x4ece;&#x6280;&#x672f;&#x4e0a;&#x6765;&#x8bf4;,&#x5f53;&#x88ab;&#x8bf7;&#x6c42;&#x65f6;,&#x4efb;&#x610f;&#x6620;&#x5c04;&#x5668;&#x5b9e;&#x4f8b;&#x7684;&#x6700;&#x5bbd;&#x8303;&#x56f4;&#x548c; SqlSession &#x662f;&#x76f8;&#x540c;&#x7684;&#x3002;&#x7136;&#x800c;,
&#x6620;&#x5c04;&#x5668;&#x5b9e;&#x4f8b;&#x7684;&#x6700;&#x4f73;&#x8303;&#x56f4;&#x662f;&#x65b9;&#x6cd5;&#x8303;&#x56f4;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;,&#x5b83;&#x4eec;&#x5e94;&#x8be5;&#x5728;&#x4f7f;&#x7528;&#x5b83;&#x4eec;&#x7684;&#x65b9;&#x6cd5;&#x4e2d;&#x88ab;&#x8bf7;&#x6c42;,&#x7136;&#x540e;
&#x5c31;&#x629b;&#x5f03;&#x6389;&#x3002;&#x5b83;&#x4eec;&#x4e0d;&#x9700;&#x8981;&#x660e;&#x786e;&#x5730;&#x5173;&#x95ed;,&#x90a3;&#x4e48;&#x5728;&#x8bf7;&#x6c42;&#x5bf9;&#x8c61;&#x4e2d;&#x4fdd;&#x7559;&#x5b83;&#x4eec;&#x4e5f;&#x5c31;&#x4e0d;&#x662f;&#x4ec0;&#x4e48;&#x95ee;&#x9898;&#x4e86;,&#x8fd9;&#x548c;
SqlSession &#x76f8;&#x4f3c;&#x3002;&#x4f60;&#x4e5f;&#x8bb8;&#x4f1a;&#x53d1;&#x73b0;,&#x5728;&#x8fd9;&#x4e2a;&#x6c34;&#x5e73;&#x4e0a;&#x7ba1;&#x7406;&#x592a;&#x591a;&#x7684;&#x8d44;&#x6e90;&#x7684;&#x8bdd;&#x4f1a;&#x5931;&#x63a7;&#x3002;&#x4fdd;&#x6301;&#x7b80;&#x5355;,&#x5c06;
&#x6620;&#x5c04;&#x5668;&#x653e;&#x5728;&#x65b9;&#x6cd5;&#x8303;&#x56f4;&#x5185;&#x3002;&#x4e0b;&#x9762;&#x7684;&#x793a;&#x4f8b;&#x5c31;&#x5c55;&#x793a;&#x4e86;&#x8fd9;&#x4e2a;&#x5b9e;&#x8df5;:
        </p>
        
<div class="source">
<pre>SqlSession session = sqlSessionFactory.openSession();
try {
  BlogMapper mapper = session.getMapper(BlogMapper.class);
  // do work
} finally {
  session.close();
}
</pre></div>

      </div></div>
    </div>
  

                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2010&#x2013;2014
                        <a href="http://www.mybatis.org/">MyBatis.org</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
