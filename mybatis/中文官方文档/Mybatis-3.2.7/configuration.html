
<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 05 六月 2014 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Clinton Begin" />
    <meta name="author" content="Nan Lei" />
    <meta name="Date-Revision-yyyymmdd" content="20140605" />
    <meta http-equiv="Content-Language" content="zh" />
    <title>MyBatis - 
    MyBatis 3 | XML 映射配置文件</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>MyBatis</h2>
                </div>
                      </div>
        <div class="pull-right">                                <a href="../../" id="bannerRight" title="MyBatis logo">
                                                                                        <img src="./images/mybatis-logo.png"  alt="MyBatis logo"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">最近更新: 05 六月 2014
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">版本: 3.2.7
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Core</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="getting-started.html" title="入门">
          <i class="none"></i>
        入门</a>
            </li>
                                                                                                                                                                                                                      
      <li class="active">
  
            <a href="#"><i class="icon-chevron-down"></i>XML 映射配置文件</a>
                  <ul class="nav nav-list">
                    
      <li>
  
                          <a href="configuration.html#properties" title="properties">
          <i class="none"></i>
        properties</a>
            </li>
                    
      <li>
  
                          <a href="configuration.html#settings" title="settings">
          <i class="none"></i>
        settings</a>
            </li>
                    
      <li>
  
                          <a href="configuration.html#typeAliases" title="typeAliases">
          <i class="none"></i>
        typeAliases</a>
            </li>
                    
      <li>
  
                          <a href="configuration.html#typeHandlers" title="typeHandlers">
          <i class="none"></i>
        typeHandlers</a>
            </li>
                    
      <li>
  
                          <a href="configuration.html#objectFactory" title="objectFactory">
          <i class="none"></i>
        objectFactory</a>
            </li>
                    
      <li>
  
                          <a href="configuration.html#plugins" title="plugins">
          <i class="none"></i>
        plugins</a>
            </li>
                    
      <li>
  
                          <a href="configuration.html#environments" title="environments">
          <i class="none"></i>
        environments</a>
            </li>
                    
      <li>
  
                          <a href="configuration.html#databaseIdProvider" title="databaseIdProvider">
          <i class="none"></i>
        databaseIdProvider</a>
            </li>
                    
      <li>
  
                          <a href="configuration.html#mappers" title="mappers">
          <i class="none"></i>
        mappers</a>
            </li>
              </ul>
        </li>
                                                                                                                                                            
      <li>
  
                          <a href="sqlmap-xml.html" title="Mapper XML 文件">
          <i class="icon-chevron-right"></i>
        Mapper XML 文件</a>
                  </li>
                
      <li>
  
                          <a href="dynamic-sql.html" title="动态 SQL">
          <i class="none"></i>
        动态 SQL</a>
            </li>
                                                                                    
      <li>
  
                          <a href="java-api.html" title="Java API">
          <i class="icon-chevron-right"></i>
        Java API</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="statement-builders.html" title="Statement Builders">
          <i class="icon-chevron-right"></i>
        Statement Builders</a>
                  </li>
                
      <li>
  
                          <a href="logging.html" title="Logging">
          <i class="none"></i>
        Logging</a>
            </li>
                              <li class="nav-header">项目文档</li>
                                                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="project-info.html" title="项目信息">
          <i class="icon-chevron-right"></i>
        项目信息</a>
                  </li>
                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="project-reports.html" title="项目报表">
          <i class="icon-chevron-right"></i>
        项目报表</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="构建依靠 Maven" class="poweredBy">
        <img class="builtBy" alt="构建依靠 Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <!-- Copyright 2010-2012 the original author or authors.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. --><!-- version: $Id$ -->

  
    <div class="section">
<h2>XML &#x6620;&#x5c04;&#x914d;&#x7f6e;&#x6587;&#x4ef6;<a name="XML_"></a></h2>
      
<p>
MyBatis &#x7684; XML &#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x5305;&#x542b;&#x4e86;&#x5f71;&#x54cd; MyBatis &#x884c;&#x4e3a;&#x751a;&#x6df1;&#x7684;&#x8bbe;&#x7f6e;&#x548c;&#x5c5e;&#x6027;&#x4fe1;&#x606f;&#x3002;
XML &#x6587;&#x6863;
&#x7684;&#x9ad8;&#x5c42;&#x7ea7;&#x7ed3;&#x6784;&#x5982;&#x4e0b;:
      </p>

      
<ul>
        
<li>
          configuration &#x914d;&#x7f6e;
          
<ul>
            
<li><a href="#properties">properties &#x5c5e;&#x6027;</a></li>
            
<li><a href="#settings">settings &#x8bbe;&#x7f6e;</a></li>
            
<li><a href="#typeAliases">typeAliases &#x7c7b;&#x578b;&#x547d;&#x540d;</a></li>
            
<li><a href="#typeHandlers">typeHandlers &#x7c7b;&#x578b;&#x5904;&#x7406;&#x5668;</a></li>
            
<li><a href="#objectFactory">objectFactory &#x5bf9;&#x8c61;&#x5de5;&#x5382;</a></li>
            
<li><a href="#plugins">plugins &#x63d2;&#x4ef6;</a></li>
            
<li><a href="#environments">environments &#x73af;&#x5883;</a>
              
<ul>
                
<li>
                  environment &#x73af;&#x5883;&#x53d8;&#x91cf;
                  
<ul>
                    
<li>transactionManager &#x4e8b;&#x52a1;&#x7ba1;&#x7406;&#x5668;</li>
                    
<li>dataSource &#x6570;&#x636e;&#x6e90;</li>
                  </ul>
                </li>
              </ul>
            </li>
            
<li><a href="#databaseIdProvider">databaseIdProvider chinese?</a></li>
            
<li><a href="#mappers">mappers &#x6620;&#x5c04;&#x5668;</a></li>
          </ul>
        </li>
      </ul>
      
<div class="section">
<h3>properties<a name="properties"></a></h3>
        
<p>
&#x8fd9;&#x4e9b;&#x662f;&#x5916;&#x90e8;&#x5316;&#x7684;,
&#x53ef;&#x66ff;&#x4ee3;&#x7684;&#x5c5e;&#x6027;,
&#x8fd9;&#x4e9b;&#x5c5e;&#x6027;&#x4e5f;&#x53ef;&#x4ee5;&#x914d;&#x7f6e;&#x5728;&#x5178;&#x578b;&#x7684; Java &#x5c5e;&#x6027;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x4e2d;,
&#x6216;&#x8005;&#x901a;&#x8fc7; properties &#x5143;&#x7d20;&#x7684;&#x5b50;&#x5143;&#x7d20;&#x6765;&#x4f20;&#x9012;&#x3002;&#x4f8b;&#x5982;:
        </p>
        
<div class="source">
<pre>&lt;properties resource=&quot;org/mybatis/example/config.properties&quot;&gt;
  &lt;property name=&quot;username&quot; value=&quot;dev_user&quot;/&gt;
  &lt;property name=&quot;password&quot; value=&quot;F2Fa3!33TYyg&quot;/&gt;
&lt;/properties&gt;</pre></div>
        
<p>
&#x5176;&#x4e2d;&#x7684;&#x5c5e;&#x6027;&#x5c31;&#x53ef;&#x4ee5;&#x5728;&#x6574;&#x4e2a;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x4e2d;&#x4f7f;&#x7528;,&#x4f7f;&#x7528;&#x53ef;&#x66ff;&#x6362;&#x7684;&#x5c5e;&#x6027;&#x6765;&#x5b9e;&#x73b0;&#x52a8;&#x6001;&#x914d;&#x7f6e;&#x3002;&#x6bd4;&#x5982;:
        </p>
        
<div class="source">
<pre>&lt;dataSource type=&quot;POOLED&quot;&gt;
  &lt;property name=&quot;driver&quot; value=&quot;${driver}&quot;/&gt;
  &lt;property name=&quot;url&quot; value=&quot;${url}&quot;/&gt;
  &lt;property name=&quot;username&quot; value=&quot;${username}&quot;/&gt;
  &lt;property name=&quot;password&quot; value=&quot;${password}&quot;/&gt;
&lt;/dataSource&gt;</pre></div>
        
<p>
&#x8fd9;&#x4e2a;&#x4f8b;&#x5b50;&#x4e2d;&#x7684; username &#x548c; password &#x5c06;&#x4f1a;&#x7531; properties &#x5143;&#x7d20;&#x4e2d;&#x8bbe;&#x7f6e;&#x7684;&#x503c;&#x6765;&#x66ff;&#x6362;&#x3002;
driver &#x548c;
url &#x5c5e;&#x6027;&#x5c06;&#x4f1a;&#x4ece;&#x5305;&#x542b;&#x8fdb;&#x6765;&#x7684; config.properties &#x6587;&#x4ef6;&#x4e2d;&#x7684;&#x503c;&#x6765;&#x66ff;&#x6362;&#x3002;&#x8fd9;&#x91cc;&#x63d0;&#x4f9b;&#x5f88;&#x591a;&#x914d;&#x7f6e;&#x7684;&#x9009;&#x9879;&#x3002;
        </p>
        
<p>
&#x5c5e;&#x6027;&#x4e5f;&#x53ef;&#x4ee5;&#x88ab;&#x4f20;&#x9012;&#x5230; SqlSessionBuilder.build()&#x65b9;&#x6cd5;&#x4e2d;&#x3002;&#x4f8b;&#x5982;:
        </p>
        
<div class="source">
<pre>SqlSessionFactory factory = sqlSessionFactoryBuilder.build(reader, props);

// ... or ...

SqlSessionFactory factory = sqlSessionFactoryBuilder.build(reader, environment, props);
</pre></div>
        
<p>
&#x5982;&#x679c;&#x5728;&#x8fd9;&#x4e9b;&#x5730;&#x65b9;,&#x5c5e;&#x6027;&#x591a;&#x4e8e;&#x4e00;&#x4e2a;&#x7684;&#x8bdd;,MyBatis &#x6309;&#x7167;&#x5982;&#x4e0b;&#x7684;&#x987a;&#x5e8f;&#x52a0;&#x8f7d;&#x5b83;&#x4eec;:
        </p>
        
<ul>
          
<li>&#x5728; properties &#x5143;&#x7d20;&#x4f53;&#x5185;&#x6307;&#x5b9a;&#x7684;&#x5c5e;&#x6027;&#x9996;&#x5148;&#x88ab;&#x8bfb;&#x53d6;&#x3002;
          </li>
          
<li>&#x4ece;&#x7c7b;&#x8def;&#x5f84;&#x4e0b;&#x8d44;&#x6e90;&#x6216; properties &#x5143;&#x7d20;&#x7684; url &#x5c5e;&#x6027;&#x4e2d;&#x52a0;&#x8f7d;&#x7684;&#x5c5e;&#x6027;&#x7b2c;&#x4e8c;&#x88ab;&#x8bfb;&#x53d6;,&#x5b83;&#x4f1a;
&#x8986;&#x76d6;&#x5df2;&#x7ecf;&#x5b58;&#x5728;&#x7684;&#x5b8c;&#x5168;&#x4e00;&#x6837;&#x7684;&#x5c5e;&#x6027;&#x3002;
          </li>
          
<li>&#x4f5c;&#x4e3a;&#x65b9;&#x6cd5;&#x53c2;&#x6570;&#x4f20;&#x9012;&#x7684;&#x5c5e;&#x6027;&#x6700;&#x540e;&#x88ab;&#x8bfb;&#x53d6;,
&#x5b83;&#x4e5f;&#x4f1a;&#x8986;&#x76d6;&#x4efb;&#x4e00;&#x5df2;&#x7ecf;&#x5b58;&#x5728;&#x7684;&#x5b8c;&#x5168;&#x4e00;&#x6837;&#x7684;
&#x5c5e;&#x6027;,&#x8fd9;&#x4e9b;&#x5c5e;&#x6027;&#x53ef;&#x80fd;&#x662f;&#x4ece; properties &#x5143;&#x7d20;&#x4f53;&#x5185;&#x548c;&#x8d44;&#x6e90;/url &#x5c5e;&#x6027;&#x4e2d;&#x52a0;&#x8f7d;&#x7684;&#x3002;
          </li>
        </ul>
        
<p>
&#x56e0;&#x6b64;,
&#x6700;&#x9ad8;&#x4f18;&#x5148;&#x7ea7;&#x7684;&#x5c5e;&#x6027;&#x662f;&#x90a3;&#x4e9b;&#x4f5c;&#x4e3a;&#x65b9;&#x6cd5;&#x53c2;&#x6570;&#x7684;,
&#x7136;&#x540e;&#x662f;&#x8d44;&#x6e90;/url &#x5c5e;&#x6027;,
&#x6700;&#x540e;&#x662f; properties
&#x5143;&#x7d20;&#x4e2d;&#x6307;&#x5b9a;&#x7684;&#x5c5e;&#x6027;&#x3002;
        </p>
      </div>
      
<div class="section">
<h3>settings<a name="settings"></a></h3>
        
<p>
&#x8fd9;&#x4e9b;&#x662f;&#x6781;&#x5176;&#x91cd;&#x8981;&#x7684;&#x8c03;&#x6574;,
&#x5b83;&#x4eec;&#x4f1a;&#x4fee;&#x6539; MyBatis &#x5728;&#x8fd0;&#x884c;&#x65f6;&#x7684;&#x884c;&#x4e3a;&#x65b9;&#x5f0f;&#x3002;
&#x4e0b;&#x9762;&#x8fd9;&#x4e2a;&#x8868;&#x683c;&#x63cf;&#x8ff0;
&#x4e86;&#x8bbe;&#x7f6e;&#x4fe1;&#x606f;,&#x5b83;&#x4eec;&#x7684;&#x542b;&#x4e49;&#x548c;&#x9ed8;&#x8ba4;&#x503c;&#x3002;
        </p>

        
<table border="0" class="table table-striped">
          <thead>
            
<tr class="a">
              
<th>&#x8bbe;&#x7f6e;&#x53c2;&#x6570;</th>
              
<th>&#x63cf;&#x8ff0;</th>
              
<th>&#x6709;&#x6548;&#x503c;</th>
              
<th>&#x9ed8;&#x8ba4;&#x503c;</th>
            </tr>
          </thead>
          <tbody>
            
<tr class="b">
              
<td>
                cacheEnabled
              </td>
              
<td>
              &#x8fd9;&#x4e2a;&#x914d;&#x7f6e;&#x4f7f;&#x5168;&#x5c40;&#x7684;&#x6620;&#x5c04;&#x5668;&#x542f;&#x7528;&#x6216;&#x7981;&#x7528; &#x7f13;&#x5b58;&#x3002; 
              </td>
              
<td>
                true | false
              </td>
              
<td>
                true
              </td>
            </tr>
            
<tr class="a">
              
<td>
                lazyLoadingEnabled
              </td>
              
<td>
                &#x5168;&#x5c40;&#x542f;&#x7528;&#x6216;&#x7981;&#x7528;&#x5ef6;&#x8fdf;&#x52a0;&#x8f7d;&#x3002;&#x5f53;&#x7981;&#x7528;&#x65f6;, &#x6240;&#x6709;&#x5173;&#x8054;&#x5bf9;&#x8c61;&#x90fd;&#x4f1a;&#x5373;&#x65f6;&#x52a0;&#x8f7d;&#x3002;
                This value can be superseded for an specific relation by using the <tt>fetchType</tt> attribute on it. 
              </td>
              
<td>
                true | false
              </td>
              
<td>
                false
              </td>
            </tr>
            
<tr class="b">
              
<td>
                aggressiveLazyLoading
              </td>
              
<td>
              &#x5f53;&#x542f;&#x7528;&#x65f6;, &#x6709;&#x5ef6;&#x8fdf;&#x52a0;&#x8f7d;&#x5c5e;&#x6027;&#x7684;&#x5bf9;&#x8c61;&#x5728;&#x88ab; 
              &#x8c03;&#x7528;&#x65f6;&#x5c06;&#x4f1a;&#x5b8c;&#x5168;&#x52a0;&#x8f7d;&#x4efb;&#x610f;&#x5c5e;&#x6027;&#x3002;&#x5426;&#x5219;, 
              &#x6bcf;&#x79cd;&#x5c5e;&#x6027;&#x5c06;&#x4f1a;&#x6309;&#x9700;&#x8981;&#x52a0;&#x8f7d;&#x3002;
              </td>
              
<td>
                true | false
              </td>
              
<td>
                true
              </td>
            </tr>
            
<tr class="a">
              
<td>
                multipleResultSetsEnabled
              </td>
              
<td>
                &#x5141;&#x8bb8;&#x6216;&#x4e0d;&#x5141;&#x8bb8;&#x591a;&#x79cd;&#x7ed3;&#x679c;&#x96c6;&#x4ece;&#x4e00;&#x4e2a;&#x5355;&#x72ec; 
                &#x7684;&#x8bed;&#x53e5;&#x4e2d;&#x8fd4;&#x56de;(&#x9700;&#x8981;&#x9002;&#x5408;&#x7684;&#x9a71;&#x52a8;) 
              </td>
              
<td>
                true | false
              </td>
              
<td>
                true
              </td>
            </tr>
            
<tr class="b">
              
<td>
                useColumnLabel
              </td>
              
<td>
                &#x4f7f;&#x7528;&#x5217;&#x6807;&#x7b7e;&#x4ee3;&#x66ff;&#x5217;&#x540d;&#x3002;
                &#x4e0d;&#x540c;&#x7684;&#x9a71;&#x52a8;&#x5728;&#x8fd9; 
                &#x65b9;&#x4fbf;&#x8868;&#x73b0;&#x4e0d;&#x540c;&#x3002; 
                &#x53c2;&#x8003;&#x9a71;&#x52a8;&#x6587;&#x6863;&#x6216;&#x5145;&#x5206;&#x6d4b; 
                &#x8bd5;&#x4e24;&#x79cd;&#x65b9;&#x6cd5;&#x6765;&#x51b3;&#x5b9a;&#x6240;&#x4f7f;&#x7528;&#x7684;&#x9a71;&#x52a8;&#x3002;
              </td>
              
<td>
                true | false
              </td>
              
<td>
                true
              </td>
            </tr>
            
<tr class="a">
              
<td>
                useGeneratedKeys
              </td>
              
<td>
                &#x5141;&#x8bb8; JDBC &#x652f;&#x6301;&#x751f;&#x6210;&#x7684;&#x952e;&#x3002; 
                &#x9700;&#x8981;&#x9002;&#x5408;&#x7684; 
                &#x9a71;&#x52a8;&#x3002; 
                &#x5982;&#x679c;&#x8bbe;&#x7f6e;&#x4e3a; true &#x5219;&#x8fd9;&#x4e2a;&#x8bbe;&#x7f6e;&#x5f3a;&#x5236; 
                &#x751f;&#x6210;&#x7684;&#x952e;&#x88ab;&#x4f7f;&#x7528;, 
                &#x5c3d;&#x7ba1;&#x4e00;&#x4e9b;&#x9a71;&#x52a8;&#x62d2;&#x7edd;&#x517c; 
                &#x5bb9;&#x4f46;&#x4ecd;&#x7136;&#x6709;&#x6548;(&#x6bd4;&#x5982; Derby) 
              </td>
              
<td>
                true | false
              </td>
              
<td>
                False
              </td>
            </tr>
            
<tr class="b">
              
<td>
                autoMappingBehavior
              </td>
              
<td>
                &#x6307;&#x5b9a; MyBatis &#x5982;&#x4f55;&#x81ea;&#x52a8;&#x6620;&#x5c04;&#x5217;&#x5230;&#x5b57;&#x6bb5;/
                &#x5c5e;&#x6027;&#x3002;PARTIAL &#x53ea;&#x4f1a;&#x81ea;&#x52a8;&#x6620;&#x5c04;&#x7b80;&#x5355;, 
                &#x6ca1;&#x6709;&#x5d4c;&#x5957;&#x7684;&#x7ed3;&#x679c;&#x3002;FULL &#x4f1a;&#x81ea;&#x52a8;&#x6620;&#x5c04;&#x4efb; 
                &#x610f;&#x590d;&#x6742;&#x7684;&#x7ed3;&#x679c;(&#x5d4c;&#x5957;&#x7684;&#x6216;&#x5176;&#x4ed6;&#x60c5;&#x51b5;)                   &#x3002; 
              </td>
              
<td>
                NONE, PARTIAL, FULL
              </td>
              
<td>
                PARTIAL
              </td>
            </tr>
            
<tr class="a">
              
<td>
                defaultExecutorType
              </td>
              
<td>
                &#x914d;&#x7f6e;&#x9ed8;&#x8ba4;&#x7684;&#x6267;&#x884c;&#x5668;&#x3002;SIMPLE &#x6267;&#x884c;&#x5668;&#x6ca1; 
                &#x6709;&#x4ec0;&#x4e48;&#x7279;&#x522b;&#x4e4b;&#x5904;&#x3002;REUSE &#x6267;&#x884c;&#x5668;&#x91cd;&#x7528; 
                &#x9884;&#x5904;&#x7406;&#x8bed;&#x53e5;&#x3002;BATCH &#x6267;&#x884c;&#x5668;&#x91cd;&#x7528;&#x8bed;&#x53e5; 
                &#x548c;&#x6279;&#x91cf;&#x66f4;&#x65b0;
              </td>
              
<td>
                SIMPLE
                REUSE
                BATCH
              </td>
              
<td>
                SIMPLE
              </td>
            </tr>
            
<tr class="b">
              
<td>
                defaultStatementTimeout
              </td>
              
<td>
                &#x8bbe;&#x7f6e;&#x8d85;&#x65f6;&#x65f6;&#x95f4;,
                &#x5b83;&#x51b3;&#x5b9a;&#x9a71;&#x52a8;&#x7b49;&#x5f85;&#x4e00;&#x4e2a;&#x6570;
                &#x636e;&#x5e93;&#x54cd;&#x5e94;&#x7684;&#x65f6;&#x95f4;&#x3002;
              </td>
              
<td>
                Any positive integer
              </td>
              
<td>
                Not Set (null)
              </td>
            </tr>
            
<tr class="a">
              
<td>
                safeRowBoundsEnabled
              </td>
              
<td>
                Allows using RowBounds on nested
                statements.
              </td>
              
<td>
                true | false
              </td>
              
<td>
                False
              </td>
            </tr>
            
<tr class="b">
              
<td>
                mapUnderscoreToCamelCase
              </td>
              
<td>
                Enables automatic mapping from
                classic database column names
                A_COLUMN to camel case classic Java
                property names aColumn.
              </td>
              
<td>
                true | false
              </td>
              
<td>
                False
              </td>
            </tr>
            
<tr class="a">
              
<td>
                localCacheScope
              </td>
              
<td>
                MyBatis uses local cache to prevent circular references and speed up repeated nested queries. 
                By default (SESSION) all queries executed during a session are cached. If localCacheScope=STATEMENT local session will be used just for 
                statement execution, no data will be shared between two different calls to the same SqlSession.
              </td>
              
<td>
                SESSION | STATEMENT
              </td>
              
<td>
                SESSION
              </td>
            </tr>
            
<tr class="b">
              
<td>
                jdbcTypeForNull
              </td>
              
<td>
                Specifies the JDBC type for null values when no specific JDBC type was provided for the parameter. 
                Some drivers require specifying the column JDBC type but others work with generic values like NULL, VARCHAR or OTHER.
              </td>
              
<td>
                JdbcType enumeration. Most common are: NULL, VARCHAR and OTHER
              </td>
              
<td>
                OTHER
              </td>
            </tr>
            
<tr class="a">
              
<td>
                lazyLoadTriggerMethods
              </td>
              
<td>
                Specifies which Object's methods trigger a lazy load
              </td>
              
<td>
                A method name list separated by commas
              </td>
              
<td>
                equals,clone,hashCode,toString
              </td>
            </tr>
            
<tr class="b">
              
<td>
                defaultScriptingLanguage
              </td>
              
<td>
                Specifies the language used by default for dynamic SQL generation.
              </td>
              
<td>
                A type alias or fully qualified class name.
              </td>
              
<td>
                org.apache.ibatis.scripting.xmltags.XMLDynamicLanguageDriver
              </td>
            </tr>
            
<tr class="a">
              
<td>
                callSettersOnNulls
              </td>
              
<td>				&#x5f53;&#x7ed3;&#x679c;&#x96c6;&#x4e2d;&#x542b;&#x6709;Null&#x503c;&#x65f6;&#x662f;&#x5426;&#x6267;&#x884c;&#x6620;&#x5c04;&#x5bf9;&#x8c61;&#x7684;setter&#x6216;&#x8005;Map&#x5bf9;&#x8c61;&#x7684;put&#x65b9;&#x6cd5;&#x3002;&#x6b64;&#x8bbe;&#x7f6e;&#x5bf9;&#x4e8e;&#x539f;&#x59cb;&#x7c7b;&#x578b;&#x5982;int,boolean&#x7b49;&#x65e0;&#x6548;&#x3002;
              </td>
              
<td>
                true | false
              </td>
              
<td>
                false
              </td>
            </tr>
            
<tr class="b">
              
<td>
                logPrefix
              </td>
              
<td>
                Specifies the prefix string that MyBatis will add to the logger names. 
              </td>
              
<td>
                Any String
              </td>
              
<td>
                Not set
              </td>
            </tr>
            
<tr class="a">
              
<td>
                logImpl
              </td>
              
<td>
                Specifies which logging implementation MyBatis should use. If this setting is not present logging implementation will be autodiscovered. 
              </td>
              
<td>
                SLF4J | LOG4J | LOG4J2 | JDK_LOGGING | COMMONS_LOGGING | STDOUT_LOGGING | NO_LOGGING
              </td>
              
<td>
                Not set
              </td>
            </tr>
            
<tr class="b">
              
<td>
                proxyFactory
              </td>
              
<td>
                Specifies the proxy tool that MyBatis will use for creating lazy loading capable objects.
              </td>
              
<td>
                CGLIB | JAVASSIST
              </td>
              
<td>
                CGLIB
              </td>
            </tr>
          </tbody>
        </table>
        
<p>
          &#x4e00;&#x4e2a;&#x8bbe;&#x7f6e;&#x4fe1;&#x606f;&#x5143;&#x7d20;&#x7684;&#x793a;&#x4f8b;,&#x5b8c;&#x5168;&#x7684;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x6240;&#x793a;:
        </p>
        
<div class="source">
<pre>&lt;settings&gt;
  &lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt;
  &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&gt;
  &lt;setting name=&quot;multipleResultSetsEnabled&quot; value=&quot;true&quot;/&gt;
  &lt;setting name=&quot;useColumnLabel&quot; value=&quot;true&quot;/&gt;
  &lt;setting name=&quot;useGeneratedKeys&quot; value=&quot;false&quot;/&gt;
  &lt;setting name=&quot;autoMappingBehavior&quot; value=&quot;PARTIAL&quot;/&gt;
  &lt;setting name=&quot;defaultExecutorType&quot; value=&quot;SIMPLE&quot;/&gt;
  &lt;setting name=&quot;defaultStatementTimeout&quot; value=&quot;25&quot;/&gt;
  &lt;setting name=&quot;safeRowBoundsEnabled&quot; value=&quot;false&quot;/&gt;
  &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;false&quot;/&gt;
  &lt;setting name=&quot;localCacheScope&quot; value=&quot;SESSION&quot;/&gt;
  &lt;setting name=&quot;jdbcTypeForNull&quot; value=&quot;OTHER&quot;/&gt;
  &lt;setting name=&quot;lazyLoadTriggerMethods&quot; value=&quot;equals,clone,hashCode,toString&quot;/&gt;
&lt;/settings&gt;</pre></div>

      </div>
      
<div class="section">
<h3>typeAliases<a name="typeAliases"></a></h3>
        
<p>
          &#x7c7b;&#x578b;&#x522b;&#x540d;&#x662f;&#x4e3a; Java &#x7c7b;&#x578b;&#x547d;&#x540d;&#x4e00;&#x4e2a;&#x77ed;&#x7684;&#x540d;&#x5b57;&#x3002;
&#x5b83;&#x53ea;&#x548c; XML &#x914d;&#x7f6e;&#x6709;&#x5173;,
&#x53ea;&#x7528;&#x6765;&#x51cf;&#x5c11;&#x7c7b;&#x5b8c;&#x5168;
&#x9650;&#x5b9a;&#x540d;&#x7684;&#x591a;&#x4f59;&#x90e8;&#x5206;&#x3002;&#x4f8b;&#x5982;:
        </p>
        
<div class="source">
<pre>&lt;typeAliases&gt;
  &lt;typeAlias alias=&quot;Author&quot; type=&quot;domain.blog.Author&quot;/&gt;
  &lt;typeAlias alias=&quot;Blog&quot; type=&quot;domain.blog.Blog&quot;/&gt;
  &lt;typeAlias alias=&quot;Comment&quot; type=&quot;domain.blog.Comment&quot;/&gt;
  &lt;typeAlias alias=&quot;Post&quot; type=&quot;domain.blog.Post&quot;/&gt;
  &lt;typeAlias alias=&quot;Section&quot; type=&quot;domain.blog.Section&quot;/&gt;
  &lt;typeAlias alias=&quot;Tag&quot; type=&quot;domain.blog.Tag&quot;/&gt;
&lt;/typeAliases&gt;
</pre></div>
        
<p>
&#x4f7f;&#x7528;&#x8fd9;&#x4e2a;&#x914d;&#x7f6e;,
&#x201c;Blog&#x201d;&#x53ef;&#x4ee5;&#x4efb;&#x610f;&#x7528;&#x6765;&#x66ff;&#x4ee3;&#x201c;domain.blog. Blog&#x201d;&#x6240;&#x4f7f;&#x7528;&#x7684;&#x5730;&#x65b9;&#x3002;
        </p>
        
<p> You can also specify a package where MyBatis will search for
          beans. For example:
        </p>
        
<div class="source">
<pre>&lt;typeAliases&gt;
  &lt;package name=&quot;domain.blog&quot;/&gt;
&lt;/typeAliases&gt;
</pre></div>
        
<p>
          Each bean found in
          <tt>domain.blog</tt>
          , if no annotation is found,
          will be registered as an alias
          using
          uncapitalized non-qualified class name of the bean. Thas is
          <tt>domain.blog.Author</tt>
          will be registered as
          <tt>Author</tt>
          . If the
          <tt>@Alias</tt>
          annotation is found its value will
          be used as an alias. See the example below:
        </p>
        
<div class="source">
<pre>@Alias(&quot;author&quot;)
public class Author {
    ...
}
</pre></div>
        
<p>
&#x5bf9;&#x4e8e;&#x666e;&#x901a;&#x7684; Java &#x7c7b;&#x578b;,&#x6709;&#x8bb8;&#x591a;&#x5185;&#x5efa;&#x7684;&#x7c7b;&#x578b;&#x522b;&#x540d;&#x3002;&#x5b83;&#x4eec;&#x90fd;&#x662f;&#x5927;&#x5c0f;&#x5199;&#x4e0d;&#x654f;&#x611f;&#x7684;,&#x7531;&#x4e8e;&#x91cd;&#x8f7d;
&#x7684;&#x540d;&#x5b57;,&#x8981;&#x6ce8;&#x610f;&#x539f;&#x751f;&#x7c7b;&#x578b;&#x7684;&#x7279;&#x6b8a;&#x5904;&#x7406;&#x3002;
        </p>
        
<table border="0" class="table table-striped">
          <thead>
            
<tr class="a">
              
<th>
                &#x522b;&#x540d;
              </th>
              
<th>
                &#x6620;&#x5c04;&#x7684;&#x7c7b;&#x578b;
              </th>
            </tr>
          </thead>
          <tbody>
            
<tr class="b">
              
<td>
                _byte
              </td>
              
<td>
                byte
              </td>
            </tr>
            
<tr class="a">
              
<td>
                _long
              </td>
              
<td>
                long
              </td>
            </tr>
            
<tr class="b">
              
<td>
                _short
              </td>
              
<td>
                short
              </td>
            </tr>
            
<tr class="a">
              
<td>
                _int
              </td>
              
<td>
                int
              </td>
            </tr>
            
<tr class="b">
              
<td>
                _integer
              </td>
              
<td>
                int
              </td>
            </tr>
            
<tr class="a">
              
<td>
                _double
              </td>
              
<td>
                double
              </td>
            </tr>
            
<tr class="b">
              
<td>
                _float
              </td>
              
<td>
                float
              </td>
            </tr>
            
<tr class="a">
              
<td>
                _boolean
              </td>
              
<td>
                boolean
              </td>
            </tr>
            
<tr class="b">
              
<td>
                string
              </td>
              
<td>
                String
              </td>
            </tr>
            
<tr class="a">
              
<td>
                byte
              </td>
              
<td>
                Byte
              </td>
            </tr>
            
<tr class="b">
              
<td>
                long
              </td>
              
<td>
                Long
              </td>
            </tr>
            
<tr class="a">
              
<td>
                short
              </td>
              
<td>
                Short
              </td>
            </tr>
            
<tr class="b">
              
<td>
                int
              </td>
              
<td>
                Integer
              </td>
            </tr>
            
<tr class="a">
              
<td>
                integer
              </td>
              
<td>
                Integer
              </td>
            </tr>
            
<tr class="b">
              
<td>
                double
              </td>
              
<td>
                Double
              </td>
            </tr>
            
<tr class="a">
              
<td>
                float
              </td>
              
<td>
                Float
              </td>
            </tr>
            
<tr class="b">
              
<td>
                boolean
              </td>
              
<td>
                Boolean
              </td>
            </tr>
            
<tr class="a">
              
<td>
                date
              </td>
              
<td>
                Date
              </td>
            </tr>
            
<tr class="b">
              
<td>
                decimal
              </td>
              
<td>
                BigDecimal
              </td>
            </tr>
            
<tr class="a">
              
<td>
                bigdecimal
              </td>
              
<td>
                BigDecimal
              </td>
            </tr>
            
<tr class="b">
              
<td>
                object
              </td>
              
<td>
                Object
              </td>
            </tr>
            
<tr class="a">
              
<td>
                map
              </td>
              
<td>
                Map
              </td>
            </tr>
            
<tr class="b">
              
<td>
                hashmap
              </td>
              
<td>
                HashMap
              </td>
            </tr>
            
<tr class="a">
              
<td>
                list
              </td>
              
<td>
                List
              </td>
            </tr>
            
<tr class="b">
              
<td>
                arraylist
              </td>
              
<td>
                ArrayList
              </td>
            </tr>
            
<tr class="a">
              
<td>
                collection
              </td>
              
<td>
                Collection
              </td>
            </tr>
            
<tr class="b">
              
<td>
                iterator
              </td>
              
<td>
                Iterator
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      
<div class="section">
<h3>typeHandlers<a name="typeHandlers"></a></h3>
        
<p>
&#x65e0;&#x8bba;&#x662f; MyBatis &#x5728;&#x9884;&#x5904;&#x7406;&#x8bed;&#x53e5;&#x4e2d;&#x8bbe;&#x7f6e;&#x4e00;&#x4e2a;&#x53c2;&#x6570;,
&#x8fd8;&#x662f;&#x4ece;&#x7ed3;&#x679c;&#x96c6;&#x4e2d;&#x53d6;&#x51fa;&#x4e00;&#x4e2a;&#x503c;&#x65f6;,
&#x7c7b;&#x578b;&#x5904;
&#x7406;&#x5668;&#x88ab;&#x7528;&#x6765;&#x5c06;&#x83b7;&#x53d6;&#x7684;&#x503c;&#x4ee5;&#x5408;&#x9002;&#x7684;&#x65b9;&#x5f0f;&#x8f6c;&#x6362;&#x6210; Java &#x7c7b;&#x578b;&#x3002;&#x4e0b;&#x9762;&#x8fd9;&#x4e2a;&#x8868;&#x683c;&#x63cf;&#x8ff0;&#x4e86;&#x9ed8;&#x8ba4;&#x7684;&#x7c7b;&#x578b;&#x5904;
&#x7406;&#x5668;&#x3002;
        </p>
        
<table border="0" class="table table-striped">
          <thead>
            
<tr class="a">
              
<th>
                &#x7c7b;&#x578b;&#x5904;&#x7406;&#x5668;
              </th>
              
<th>
                Java &#x7c7b;&#x578b; 
              </th>
              
<th>
                JDBC &#x7c7b;&#x578b;
              </th>
            </tr>
          </thead>
          <tbody>
            
<tr class="b">
              
<td>
                <tt>BooleanTypeHandler</tt>
              </td>
              
<td>
                <tt>java.lang.Boolean</tt>, <tt>boolean</tt>
              </td>
              
<td>
                &#x4efb;&#x4f55;&#x517c;&#x5bb9;&#x7684;&#x5e03;&#x5c14;&#x503c;
              </td>
            </tr>
            
<tr class="a">
              
<td>
                <tt>ByteTypeHandler</tt>
              </td>
              
<td>
                <tt>java.lang.Byte</tt>, <tt>byte</tt>
              </td>
              
<td>
                &#x4efb;&#x4f55;&#x517c;&#x5bb9;&#x7684;&#x6570;&#x5b57;&#x6216;&#x5b57;&#x8282;&#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="b">
              
<td>
                <tt>ShortTypeHandler</tt>
              </td>
              
<td>
                <tt>java.lang.Short</tt>, <tt>short</tt>
              </td>
              
<td>
                &#x4efb;&#x4f55;&#x517c;&#x5bb9;&#x7684;&#x6570;&#x5b57;&#x6216;&#x77ed;&#x6574;&#x578b;
              </td>
            </tr>
            
<tr class="a">
              
<td>
                <tt>IntegerTypeHandler</tt>
              </td>
              
<td>
                <tt>java.lang.Integer</tt>, <tt>int</tt>
              </td>
              
<td>
                &#x4efb;&#x4f55;&#x517c;&#x5bb9;&#x7684;&#x6570;&#x5b57;&#x548c;&#x6574;&#x578b;
              </td>
            </tr>
            
<tr class="b">
              
<td>
                <tt>LongTypeHandler</tt>
              </td>
              
<td>
                <tt>java.lang.Long</tt>, <tt>long</tt>
              </td>
              
<td>
                &#x4efb;&#x4f55;&#x517c;&#x5bb9;&#x7684;&#x6570;&#x5b57;&#x6216;&#x957f;&#x6574;&#x578b;
              </td>
            </tr>
            
<tr class="a">
              
<td>
                <tt>FloatTypeHandler</tt>
              </td>
              
<td>
                <tt>java.lang.Float</tt>, <tt>float</tt>
              </td>
              
<td>
                &#x4efb;&#x4f55;&#x517c;&#x5bb9;&#x7684;&#x6570;&#x5b57;&#x6216;&#x5355;&#x7cbe;&#x5ea6;&#x6d6e;&#x70b9;&#x578b;
              </td>
            </tr>
            
<tr class="b">
              
<td>
                <tt>DoubleTypeHandler</tt>
              </td>
              
<td>
                <tt>java.lang.Double</tt>, <tt>double</tt>
              </td>
              
<td>
                &#x4efb;&#x4f55;&#x517c;&#x5bb9;&#x7684;&#x6570;&#x5b57;&#x6216;&#x53cc;&#x7cbe;&#x5ea6;&#x6d6e;&#x70b9;&#x578b;
              </td>
            </tr>
            
<tr class="a">
              
<td>
                <tt>BigDecimalTypeHandler</tt>
              </td>
              
<td>
                <tt>java.math.BigDecimal</tt>
              </td>
              
<td>
                &#x4efb;&#x4f55;&#x517c;&#x5bb9;&#x7684;&#x6570;&#x5b57;&#x6216;&#x5341;&#x8fdb;&#x5236;&#x5c0f;&#x6570;&#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="b">
              
<td>
                <tt>StringTypeHandler</tt>
              </td>
              
<td>
                <tt>java.lang.String</tt>
              </td>
              
<td>
                CHAR &#x548c; VARCHAR &#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="a">
              
<td>
                <tt>ClobTypeHandler</tt>
              </td>
              
<td>
                <tt>java.lang.String</tt>
              </td>
              
<td>
                CLOB &#x548c; LONGVARCHAR &#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="b">
              
<td>
                <tt>NStringTypeHandler</tt>
              </td>
              
<td>
                <tt>java.lang.String</tt>
              </td>
              
<td>
                NVARCHAR &#x548c; NCHAR &#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="a">
              
<td>
                <tt>NClobTypeHandler</tt>
              </td>
              
<td>
                <tt>java.lang.String</tt>
              </td>
              
<td>
                NCLOB &#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="b">
              
<td>
                <tt>ByteArrayTypeHandler</tt>
              </td>
              
<td>
                <tt>byte[]</tt>
              </td>
              
<td>
                &#x4efb;&#x4f55;&#x517c;&#x5bb9;&#x7684;&#x5b57;&#x8282;&#x6d41;&#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="a">
              
<td>
                <tt>BlobTypeHandler</tt>
              </td>
              
<td>
                <tt>byte[]</tt>
              </td>
              
<td>
                BLOB &#x548c; LONGVARBINARY &#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="b">
              
<td>
                <tt>DateTypeHandler</tt>
              </td>
              
<td>
                <tt>java.util.Date</tt>
              </td>
              
<td>
                TIMESTAMP &#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="a">
              
<td>
                <tt>DateOnlyTypeHandler</tt>
              </td>
              
<td>
                <tt>java.util.Date</tt>
              </td>
              
<td>
                DATE &#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="b">
              
<td>
                <tt>TimeOnlyTypeHandler</tt>
              </td>
              
<td>
                <tt>java.util.Date</tt>
              </td>
              
<td>
                TIME &#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="a">
              
<td>
                <tt>SqlTimestampTypeHandler</tt>
              </td>
              
<td>
                <tt>java.sql.Timestamp</tt>
              </td>
              
<td>
                TIMESTAMP &#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="b">
              
<td>
                <tt>SqlDateTypeHandler</tt>
              </td>
              
<td>
                <tt>java.sql.Date</tt>
              </td>
              
<td>
                DATE &#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="a">
              
<td>
                <tt>SqlTimeTypeHandler</tt>
              </td>
              
<td>
                <tt>java.sql.Time</tt>
              </td>
              
<td>
                TIME &#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="b">
              
<td>
                <tt>ObjectTypeHandler</tt>
              </td>
              
<td>
                Any
              </td>
              
<td>
                &#x5176;&#x4ed6;&#x6216;&#x672a;&#x6307;&#x5b9a;&#x7c7b;&#x578b;
              </td>
            </tr>
            
<tr class="a">
              
<td>
                <tt>EnumTypeHandler</tt>
              </td>
              
<td>
                Enumeration Type
              </td>
              
<td>
                VARCHAR-&#x4efb;&#x4f55;&#x517c;&#x5bb9;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#x7c7b;&#x578b;,
                &#x4f5c;&#x4e3a;&#x4ee3;&#x7801;&#x5b58;&#x50a8;(&#x800c;&#x4e0d;&#x662f;&#x7d22;&#x5f15;)
              </td>
            </tr>
            
<tr class="b">
              
<td>
                <tt>EnumOrdinalTypeHandler</tt>
              </td>
              
<td>
                Enumeration Type
              </td>
              
<td>
                Any compatible <tt>NUMERIC</tt> or <tt>DOUBLE</tt>, as the position is stored
                (not the code itself).
              </td>
            </tr>
          </tbody>
        </table>
        
<p>
          &#x4f60;&#x53ef;&#x4ee5;&#x91cd;&#x5199;&#x7c7b;&#x578b;&#x5904;&#x7406;&#x5668;&#x6216;&#x521b;&#x5efa;&#x4f60;&#x81ea;&#x5df1;&#x7684;&#x7c7b;&#x578b;&#x5904;&#x7406;&#x5668;&#x6765;&#x5904;&#x7406;&#x4e0d;&#x652f;&#x6301;&#x7684;&#x6216;&#x975e;&#x6807;&#x51c6;&#x7684;&#x7c7b;&#x578b;&#x3002;
          //TODO translation needed
          
          To do so, implement the interface <tt>org.apache.ibatis.type.TypeHandler</tt>
          or extend the convenience class <tt>org.apache.ibatis.type.BaseTypeHandler</tt> 
          and optionally map it to a JDBC type. &#x4f8b;&#x5982;:
        </p>
        
<div class="source">
<pre>// ExampleTypeHandler.java
@MappedJdbcTypes(JdbcType.VARCHAR)
public class ExampleTypeHandler extends BaseTypeHandler&lt;String&gt; {

  @Override
  public void setNonNullParameter(PreparedStatement ps, int i, String parameter, JdbcType jdbcType) throws SQLException {
    ps.setString(i, parameter);
  }

  @Override
  public String getNullableResult(ResultSet rs, String columnName) throws SQLException {
    return rs.getString(columnName);
  }

  @Override
  public String getNullableResult(ResultSet rs, int columnIndex) throws SQLException {
    return rs.getString(columnIndex);
  }

  @Override
  public String getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {
    return cs.getString(columnIndex);
  }
}
</pre></div>

        
<div class="source">
<pre>&lt;!-- mybatis-config.xml --&gt;
&lt;typeHandlers&gt;
  &lt;typeHandler handler=&quot;org.mybatis.example.ExampleTypeHandler&quot;/&gt;
&lt;/typeHandlers&gt;
</pre></div>

        
<p>
        &#x4f7f;&#x7528;&#x8fd9;&#x6837;&#x7684;&#x7c7b;&#x578b;&#x5904;&#x7406;&#x5668;&#x5c06;&#x4f1a;&#x8986;&#x76d6;&#x5df2;&#x7ecf;&#x5b58;&#x5728;&#x7684;&#x5904;&#x7406; Java &#x7684; String &#x7c7b;&#x578b;&#x5c5e;&#x6027;&#x548c; VARCHAR
&#x53c2;&#x6570;&#x53ca;&#x7ed3;&#x679c;&#x7684;&#x7c7b;&#x578b;&#x5904;&#x7406;&#x5668;&#x3002;
&#x8981;&#x6ce8;&#x610f; MyBatis &#x4e0d;&#x4f1a;&#x5ba1;&#x89c6;&#x6570;&#x636e;&#x5e93;&#x5143;&#x4fe1;&#x606f;&#x6765;&#x51b3;&#x5b9a;&#x4f7f;&#x7528;&#x54ea;&#x79cd;&#x7c7b;&#x578b;,
&#x6240;
&#x4ee5;&#x4f60;&#x5fc5;&#x987b;&#x5728;&#x53c2;&#x6570;&#x548c;&#x7ed3;&#x679c;&#x6620;&#x5c04;&#x4e2d;&#x6307;&#x5b9a;&#x90a3;&#x662f; VARCHAR &#x7c7b;&#x578b;&#x7684;&#x5b57;&#x6bb5;,&#x6765;&#x7ed1;&#x5b9a;&#x5230;&#x6b63;&#x786e;&#x7684;&#x7c7b;&#x578b;&#x5904;&#x7406;
&#x5668;&#x4e0a;&#x3002;&#x8fd9;&#x662f;&#x56e0;&#x4e3a; MyBatis &#x76f4;&#x5230;&#x8bed;&#x53e5;&#x88ab;&#x6267;&#x884c;&#x90fd;&#x4e0d;&#x77e5;&#x9053;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x7684;&#x8fd9;&#x4e2a;&#x73b0;&#x5b9e;&#x5bfc;&#x81f4;&#x7684;&#x3002;
        </p>
        
<p>
          // TODO translation needed
          MyBatis will know the the Java type that you want to handle with
          this TypeHandler by introspecting its generic type, but 
          you can override this behavior by two means:
        </p>
        
<ul>
          
<li>Adding a <tt>javaType</tt> attribute to the typeHandler element (for example: <tt>javaType=&quot;String&quot;</tt>)
          </li> 
          
<li>Adding a <tt>@MappedTypes</tt> annotation to your <tt>TypeHandler</tt> class specifying 
          the list of java types to associate it with. This annotation will be ignored if 
          the <tt>javaType</tt> attribute as also been specified.
          </li>
        </ul>

        
<p>Associated JDBC type can be specified by two means:</p>
        
<ul>
          
<li>
           Adding a <tt>jdbcType</tt> attribute to the typeHandler element (for example: <tt>jdbcType=&quot;VARCHAR&quot;</tt>).
          </li>
          
<li>Adding a <tt>@MappedJdbcTypes</tt> annotation to your TypeHandler class specifying 
          the list of JDBC types to associate it with. This annotation will be ignored if 
          the <tt>jdbcType</tt> attribute as also been specified.
          </li>
        </ul>

        
<p>And finally you can let MyBatis search for your TypeHandlers:</p>
        
<div class="source">
<pre>&lt;!-- mybatis-config.xml --&gt;
&lt;typeHandlers&gt;
  &lt;package name=&quot;org.mybatis.example&quot;/&gt;
&lt;/typeHandlers&gt;
</pre></div>

        
<p>
          Note that when using the autodiscovery feature JDBC types can only be
          specified with annotations.
        </p>
        
<p>
          You can create a generic TypeHandler that is able to handle more than one class. For that purpose  
          add a constructor that receives the class as a parameter and MyBatis will pass the actual class when
          constructing the TypeHandler.
        </p>

        
<div class="source">
<pre>//GenericTypeHandler.java
public class GenericTypeHandler&lt;E extends MyObject&gt; extends BaseTypeHandler&lt;E&gt; {

  private Class&lt;E&gt; type;

  public GenericTypeHandler(Class&lt;E&gt; type) {
    if (type == null) throw new IllegalArgumentException(&quot;Type argument cannot be null&quot;);
    this.type = type;
  }
  ...
</pre></div>

		
<p><tt>EnumTypeHandler</tt> and <tt>EnumOrdinalTypeHandler</tt> are generic TypeHandlers. We will learn 
		about them in the following section. 
		</p>

      </div>
      
      
<div class="section">
<h3>Handling Enums<a name="Handling_Enums"></a></h3>
      	
<p>
      	  If you want to map an <tt>Enum</tt>, you'll need to use either
      	  <tt>EnumTypeHandler</tt> or <tt>EnumOrdinalTypeHandler</tt>. 
      	</p>
      	
      	
<p>For example, let's say that we need to store the rounding mode that 
      	should be used with some number if it needs to be rounded. By default, MyBatis
      	uses <tt>EnumTypeHandler</tt> to convert the <tt>Enum</tt>
      	values to their names.
      	</p>
      	
      	<b>Note <tt>EnumTypeHandler</tt> is special in the sense that unlike other handlers, 
      	it does not handle just one specific class, but any class that extends <tt>Enum</tt></b>

      	
<p>However, we may not want to store names. Our DBA may insist on an 
      	integer code instead. That's just as easy: add <tt>EnumOrdinalTypeHandler</tt>
      	to the <tt>typeHandlers</tt> in your config file, and now each
      	<tt>RoundingMode</tt> will be mapped to an integer using its ordinal value.     	
      	</p>
       
<div class="source">
<pre>&lt;!-- mybatis-config.xml --&gt;
&lt;typeHandlers&gt;
  &lt;typeHandler handler=&quot;org.apache.ibatis.type.EnumOrdinalTypeHandler&quot; javaType=&quot;java.math.RoundingMode&quot;/&gt;
&lt;/typeHandlers&gt;
</pre></div>
		
<p>
		  But what if you want to map the same <tt>Enum</tt> to a 
		  string in one place and to integer in another? 
		</p>
      	
<p>
      	  The auto-mapper will automatically use <tt>EnumOrdinalTypeHandler</tt>, 
      	  so if we want to go back to using plain old ordinary
      	  <tt>EnumTypeHandler</tt>, we have to tell it, by explicitly setting 
      	  the type handler to use for those SQL statements. 
      	</p>
      	
<p>
      	  (Mapper files aren't covered until the next section, so if this is your first
      	  time reading through the documentation, you may want to skip this for now
      	  and come back to it later.)
      	</p>
      	
<div class="source">
<pre>&lt;!DOCTYPE mapper
    PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
    &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;

&lt;!DOCTYPE mapper
    PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
    &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;

&lt;mapper namespace=&quot;org.apache.ibatis.submitted.rounding.Mapper&quot;&gt;
	&lt;resultMap type=&quot;org.apache.ibatis.submitted.rounding.User&quot; id=&quot;usermap&quot;&gt;
		&lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;
		&lt;result column=&quot;name&quot; property=&quot;name&quot;/&gt;
		&lt;result column=&quot;funkyNumber&quot; property=&quot;funkyNumber&quot;/&gt;
		&lt;result column=&quot;roundingMode&quot; property=&quot;roundingMode&quot;/&gt;
	&lt;/resultMap&gt;

	&lt;select id=&quot;getUser&quot; resultMap=&quot;usermap&quot;&gt;
		select * from users
	&lt;/select&gt;
	&lt;insert id=&quot;insert&quot;&gt;
	    insert into users (id, name, funkyNumber, roundingMode) values (
	    	#{id}, #{name}, #{funkyNumber}, #{roundingMode}
	    )
	&lt;/insert&gt;
	
	&lt;resultMap type=&quot;org.apache.ibatis.submitted.rounding.User&quot; id=&quot;usermap2&quot;&gt;
		&lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;
		&lt;result column=&quot;name&quot; property=&quot;name&quot;/&gt;
		&lt;result column=&quot;funkyNumber&quot; property=&quot;funkyNumber&quot;/&gt;
		&lt;result column=&quot;roundingMode&quot; property=&quot;roundingMode&quot; typeHandler=&quot;org.apache.ibatis.type.EnumTypeHandler&quot;/&gt;
	&lt;/resultMap&gt;
	&lt;select id=&quot;getUser2&quot; resultMap=&quot;usermap2&quot;&gt;
		select * from users2
	&lt;/select&gt;
	&lt;insert id=&quot;insert2&quot;&gt;
	    insert into users2 (id, name, funkyNumber, roundingMode) values (
	    	#{id}, #{name}, #{funkyNumber}, #{roundingMode, typeHandler=org.apache.ibatis.type.EnumTypeHandler}
	    )
	&lt;/insert&gt;

&lt;/mapper&gt;
</pre></div>
		
<p>
		  Note that this forces us to use a <tt>resultMap</tt> 
		  instead of a <tt>resultType</tt> in our select statements.
		</p>
      </div>

      
<div class="section">
<h3>objectFactory<a name="objectFactory"></a></h3>
        
<p>
          MyBatis &#x6bcf;&#x6b21;&#x521b;&#x5efa;&#x7ed3;&#x679c;&#x5bf9;&#x8c61;&#x65b0;&#x7684;&#x5b9e;&#x4f8b;&#x65f6;,
&#x5b83;&#x4f7f;&#x7528;&#x4e00;&#x4e2a; ObjectFactory &#x5b9e;&#x4f8b;&#x6765;&#x5b8c;&#x6210;&#x3002;
&#x5982;&#x679c;&#x53c2;
&#x6570;&#x6620;&#x5c04;&#x5b58;&#x5728;,&#x9ed8;&#x8ba4;&#x7684; ObjectFactory &#x4e0d;&#x6bd4;&#x4f7f;&#x7528;&#x9ed8;&#x8ba4;&#x6784;&#x9020;&#x65b9;&#x6cd5;&#x6216;&#x5e26;&#x53c2;&#x6570;&#x7684;&#x6784;&#x9020;&#x65b9;&#x6cd5;&#x5b9e;&#x4f8b;&#x5316;&#x76ee;&#x6807;
&#x7c7b;&#x505a;&#x7684;&#x5de5;&#x4f5c;&#x591a;&#x3002;&#x5982;&#x679c;&#x4f60;&#x60f3;&#x91cd;&#x5199;&#x9ed8;&#x8ba4;&#x7684; ObjectFactory,&#x4f60;&#x53ef;&#x4ee5;&#x521b;&#x5efa;&#x4f60;&#x81ea;&#x5df1;&#x7684;&#x3002;&#x6bd4;&#x5982;:
        </p>
        
<div class="source">
<pre>// ExampleObjectFactory.java
public class ExampleObjectFactory extends DefaultObjectFactory {
  public Object create(Class type) {
    return super.create(type);
  }
  public Object create(Class type, List&lt;Class&gt; constructorArgTypes, List&lt;Object&gt; constructorArgs) {
    return super.create(type, constructorArgTypes, constructorArgs);
  }
  public void setProperties(Properties properties) {
    super.setProperties(properties);
  }
  public &lt;T&gt; boolean isCollection(Class&lt;T&gt; type) {
    return Collection.class.isAssignableFrom(type);
  }}
</pre></div>

        
<div class="source">
<pre>&lt;!-- mybatis-config.xml --&gt;
&lt;objectFactory type=&quot;org.mybatis.example.ExampleObjectFactory&quot;&gt;
  &lt;property name=&quot;someProperty&quot; value=&quot;100&quot;/&gt;
&lt;/objectFactory&gt;</pre></div>
        
<p>
          ObjectFactory &#x63a5;&#x53e3;&#x5f88;&#x7b80;&#x5355;&#x3002;&#x5b83;&#x5305;&#x542b;&#x4e24;&#x4e2a;&#x521b;&#x5efa;&#x7528;&#x7684;&#x65b9;&#x6cd5;,&#x4e00;&#x4e2a;&#x662f;&#x5904;&#x7406;&#x9ed8;&#x8ba4;&#x6784;&#x9020;&#x65b9;&#x6cd5;&#x7684;,&#x53e6;
&#x5916;&#x4e00;&#x4e2a;&#x662f;&#x5904;&#x7406;&#x5e26;&#x53c2;&#x6570;&#x6784;&#x9020;&#x65b9;&#x6cd5;&#x7684;&#x3002;&#x6700;&#x7ec8;,setProperties &#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x88ab;&#x7528;&#x6765;&#x914d;&#x7f6e; ObjectFactory&#x3002;
&#x5728; &#x521d; &#x59cb;&#x5316; &#x4f60; &#x7684; ObjectFactory &#x5b9e;&#x4f8b; &#x540e; , objectFactory &#x5143;&#x7d20; &#x4f53; &#x4e2d;&#x5b9a; &#x4e49;&#x7684; &#x5c5e; &#x6027;&#x4f1a; &#x88ab;&#x4f20; &#x9012; &#x7ed9;
setProperties &#x65b9;&#x6cd5;&#x3002;
        </p>

      </div>
      
<div class="section">
<h3>plugins<a name="plugins"></a></h3>
        
<p>
          MyBatis &#x5141;&#x8bb8;&#x4f60;&#x5728;&#x67d0;&#x4e00;&#x70b9;&#x62e6;&#x622a;&#x5df2;&#x6620;&#x5c04;&#x8bed;&#x53e5;&#x6267;&#x884c;&#x7684;&#x8c03;&#x7528;&#x3002;&#x9ed8;&#x8ba4;&#x60c5;&#x51b5;&#x4e0b;,MyBatis &#x5141;&#x8bb8;&#x4f7f;&#x7528;
&#x63d2;&#x4ef6;&#x6765;&#x62e6;&#x622a;&#x65b9;&#x6cd5;&#x8c03;&#x7528;:
        </p>
        
<ul>
          
<li>
            Executor
            (update, query, flushStatements, commit, rollback,
            getTransaction, close,
            isClosed)
          </li>
          
<li>
            ParameterHandler
            (getParameterObject, setParameters)
          </li>
          
<li>
            ResultSetHandler
            (handleResultSets, handleOutputParameters)
          </li>
          
<li>
            StatementHandler
            (prepare, parameterize, batch, update, query)
          </li>
        </ul>
        
<p>
&#x8fd9;&#x4e9b;&#x7c7b;&#x4e2d;&#x65b9;&#x6cd5;&#x7684;&#x8be6;&#x60c5;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x67e5;&#x770b;&#x6bcf;&#x4e2a;&#x65b9;&#x6cd5;&#x7684;&#x7b7e;&#x540d;&#x6765;&#x53d1;&#x73b0; ,&#x800c;&#x4e14;&#x5b83;&#x4eec;&#x7684;&#x6e90;&#x4ee3;&#x7801;&#x5728;
MyBatis &#x7684;&#x53d1;&#x884c;&#x5305;&#x4e2d;&#x6709;&#x3002;&#x4f60;&#x5e94;&#x8be5;&#x7406;&#x89e3;&#x4f60;&#x8986;&#x76d6;&#x65b9;&#x6cd5;&#x7684;&#x884c;&#x4e3a;,&#x5047;&#x8bbe;&#x4f60;&#x6240;&#x505a;&#x7684;&#x8981;&#x6bd4;&#x76d1;&#x89c6;&#x8c03;&#x7528;&#x8981;&#x591a;&#x3002;
&#x5982;&#x679c;&#x4f60;&#x5c1d;&#x8bd5;&#x4fee;&#x6539;&#x6216;&#x8986;&#x76d6;&#x4e00;&#x4e2a;&#x7ed9;&#x5b9a;&#x7684;&#x65b9;&#x6cd5;,
&#x4f60;&#x53ef;&#x80fd;&#x4f1a;&#x6253;&#x7834; MyBatis &#x7684;&#x6838;&#x5fc3;&#x3002;
&#x8fd9;&#x662f;&#x4f4e;&#x5c42;&#x6b21;&#x7684;&#x7c7b;&#x548c;
&#x65b9;&#x6cd5;,&#x8981;&#x8c28;&#x614e;&#x4f7f;&#x7528;&#x63d2;&#x4ef6;&#x3002;
        </p>
        
<p>
&#x4f7f;&#x7528;&#x63d2;&#x4ef6;&#x662f;&#x5b83;&#x4eec;&#x63d0;&#x4f9b;&#x7684;&#x975e;&#x5e38;&#x7b80;&#x5355;&#x7684;&#x529b;&#x91cf;&#x3002;
&#x7b80;&#x5355;&#x5b9e;&#x73b0;&#x62e6;&#x622a;&#x5668;&#x63a5;&#x53e3;,
&#x8981;&#x786e;&#x5b9a;&#x4f60;&#x60f3;&#x62e6;&#x622a;&#x7684;&#x6307;&#x5b9a;
&#x7b7e;&#x540d;&#x3002;
        </p>

        
<div class="source">
<pre>// ExamplePlugin.java
@Intercepts({@Signature(
  type= Executor.class,
  method = &quot;update&quot;,
  args = {MappedStatement.class,Object.class})})
public class ExamplePlugin implements Interceptor {
  public Object intercept(Invocation invocation) throws Throwable {
    return invocation.proceed();
  }
  public Object plugin(Object target) {
    return Plugin.wrap(target, this);
  }
  public void setProperties(Properties properties) {
  }
}</pre></div>

        
<div class="source">
<pre>&lt;!-- mybatis-config.xml --&gt;
&lt;plugins&gt;
  &lt;plugin interceptor=&quot;org.mybatis.example.ExamplePlugin&quot;&gt;
    &lt;property name=&quot;someProperty&quot; value=&quot;100&quot;/&gt;
  &lt;/plugin&gt;
&lt;/plugins&gt;</pre></div>
        
<p>
&#x4e0a;&#x9762;&#x7684;&#x63d2;&#x4ef6;&#x5c06;&#x4f1a;&#x62e6;&#x622a;&#x5728; Executor &#x5b9e;&#x4f8b;&#x4e2d;&#x6240;&#x6709;&#x7684;&#x201c;update&#x201d;&#x65b9;&#x6cd5;&#x8c03;&#x7528;,&#x5b83;&#x4e5f;&#x662f;&#x8d1f;&#x8d23;&#x4f4e;&#x5c42;&#x6b21;
&#x6620;&#x5c04;&#x8bed;&#x53e5;&#x6267;&#x884c;&#x7684;&#x5185;&#x90e8;&#x5bf9;&#x8c61;&#x3002;
        </p>
        
<p><span class="label important">NOTE</span>
          <b>&#x8986;&#x76d6;&#x914d;&#x7f6e;&#x7c7b;
          </b>
        </p>
        
<p>
&#x9664;&#x4e86;&#x7528;&#x63d2;&#x4ef6;&#x6765;&#x4fee;&#x6539; MyBatis &#x6838;&#x5fc3;&#x884c;&#x4e3a;&#x4e4b;&#x5916;,
&#x4f60;&#x4e5f;&#x53ef;&#x4ee5;&#x5b8c;&#x5168;&#x8986;&#x76d6;&#x914d;&#x7f6e;&#x7c7b;&#x3002;
&#x7b80;&#x5355;&#x6269;&#x5c55;&#x5b83;,
&#x7136;&#x540e;&#x8986;&#x76d6;&#x5176;&#x4e2d;&#x7684;&#x4efb;&#x610f;&#x65b9;&#x6cd5;,&#x4e4b;&#x540e;&#x4f20;&#x9012;&#x5b83;&#x5230; sqlSessionFactoryBuilder.build(myConfig)&#x65b9;&#x6cd5;
&#x7684;&#x8c03;&#x7528;&#x3002;&#x8fd9;&#x53ef;&#x80fd;&#x4f1a;&#x4e25;&#x91cd;&#x5f71;&#x54cd; MyBatis &#x7684;&#x884c;&#x4e3a;,&#x6240;&#x4ee5;&#x8981;&#x5c0f;&#x5fc3;&#x3002;
        </p>
      </div>
      
<div class="section">
<h3>environments<a name="environments"></a></h3>
        
<p>
MyBatis &#x53ef;&#x4ee5;&#x914d;&#x7f6e;&#x591a;&#x79cd;&#x73af;&#x5883;&#x3002;&#x8fd9;&#x4f1a;&#x5e2e;&#x52a9;&#x4f60;&#x5c06; SQL &#x6620;&#x5c04;&#x5e94;&#x7528;&#x4e8e;&#x591a;&#x79cd;&#x6570;&#x636e;&#x5e93;&#x4e4b;&#x4e2d;&#x3002;&#x4f8b;&#x5982;,
&#x4f60;&#x4e5f;&#x8bb8;&#x4e3a;&#x5f00;&#x53d1;&#x8981;&#x8bbe;&#x7f6e;&#x4e0d;&#x540c;&#x7684;&#x914d;&#x7f6e;,
&#x6d4b;&#x8bd5;&#x548c;&#x751f;&#x4ea7;&#x73af;&#x5883;&#x3002;
&#x6216;&#x8005;&#x4f60;&#x53ef;&#x80fd;&#x6709;&#x591a;&#x79cd;&#x751f;&#x4ea7;&#x7ea7;&#x6570;&#x636e;&#x5e93;&#x5374;&#x5171;&#x4eab;
&#x76f8;&#x540c;&#x7684;&#x6a21;&#x5f0f;,&#x6240;&#x4ee5;&#x4f60;&#x4f1a;&#x60f3;&#x5bf9;&#x4e0d;&#x540c;&#x6570;&#x636e;&#x5e93;&#x4f7f;&#x7528;&#x76f8;&#x540c;&#x7684; SQL &#x6620;&#x5c04;&#x3002;&#x8fd9;&#x79cd;&#x7528;&#x4f8b;&#x662f;&#x5f88;&#x591a;&#x7684;&#x3002;
        </p>
        
<p>
          <b>&#x4e00;&#x4e2a;&#x5f88;&#x91cd;&#x8981;&#x7684;&#x95ee;&#x9898;&#x8981;&#x8bb0;&#x5f97;:&#x4f60;&#x53ef;&#x4ee5;&#x914d;&#x7f6e;&#x591a;&#x79cd;&#x73af;&#x5883;,&#x4f46;&#x4f60;&#x53ea;&#x80fd;&#x4e3a;&#x6bcf;&#x4e2a; SqlSessionFactory
&#x5b9e;&#x4f8b;&#x9009;&#x62e9;&#x4e00;&#x4e2a;&#x3002;</b>
        </p>
        
<p>
          &#x6240;&#x4ee5;,&#x5982;&#x679c;&#x4f60;&#x60f3;&#x8fde;&#x63a5;&#x4e24;&#x4e2a;&#x6570;&#x636e;&#x5e93;,&#x4f60;&#x9700;&#x8981;&#x521b;&#x5efa;&#x4e24;&#x4e2a; SqlSessionFactory &#x5b9e;&#x4f8b;,&#x6bcf;&#x4e2a;&#x6570;&#x636e;&#x5e93;
&#x5bf9;&#x5e94;&#x4e00;&#x4e2a;&#x3002;&#x800c;&#x5982;&#x679c;&#x662f;&#x4e09;&#x4e2a;&#x6570;&#x636e;&#x5e93;,&#x4f60;&#x5c31;&#x9700;&#x8981;&#x4e09;&#x4e2a;&#x5b9e;&#x4f8b;,&#x4ee5;&#x6b64;&#x7c7b;&#x63a8;&#x3002;&#x8bb0;&#x5fc6;&#x8d77;&#x6765;&#x5f88;&#x7b80;&#x5355;:
        </p>
        
<ul>
          
<li>
            <b>&#x6bcf;&#x4e2a;&#x6570;&#x636e;&#x5e93;&#x5bf9;&#x5e94;&#x4e00;&#x4e2a; SqlSessionFactory
            </b>
          </li>
        </ul>
        
<p>
&#x4e3a;&#x4e86;&#x660e;&#x786e;&#x521b;&#x5efa;&#x54ea;&#x79cd;&#x73af;&#x5883;,&#x4f60;&#x53ef;&#x4ee5;&#x5c06;&#x5b83;&#x4f5c;&#x4e3a;&#x53ef;&#x9009;&#x7684;&#x53c2;&#x6570;&#x4f20;&#x9012;&#x7ed9; SqlSessionFactoryBuilder&#x3002;
&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#x73af;&#x5883;&#x914d;&#x7f6e;&#x7684;&#x4e24;&#x4e2a;&#x65b9;&#x6cd5;&#x7b7e;&#x540d;&#x662f;:
        </p>

        
<div class="source">
<pre>SqlSessionFactory factory = sqlSessionFactoryBuilder.build(reader, environment);
SqlSessionFactory factory = sqlSessionFactoryBuilder.build(reader, environment,properties);</pre></div>

        
<p>&#x5982;&#x679c;&#x73af;&#x5883;&#x88ab;&#x5ffd;&#x7565;,&#x90a3;&#x4e48;&#x9ed8;&#x8ba4;&#x73af;&#x5883;&#x5c06;&#x4f1a;&#x88ab;&#x52a0;&#x8f7d;,&#x5982;&#x4e0b;&#x8fdb;&#x884c;:
        </p>

        
<div class="source">
<pre>SqlSessionFactory factory = sqlSessionFactoryBuilder.build(reader);
SqlSessionFactory factory = sqlSessionFactoryBuilder.build(reader,properties);</pre></div>

        
<p>&#x73af;&#x5883;&#x5143;&#x7d20;&#x5b9a;&#x4e49;&#x4e86;&#x5982;&#x4f55;&#x914d;&#x7f6e;&#x73af;&#x5883;&#x3002;
        </p>

        
<div class="source">
<pre>&lt;environments default=&quot;development&quot;&gt;
  &lt;environment id=&quot;development&quot;&gt;
    &lt;transactionManager type=&quot;JDBC&quot;&gt;
      &lt;property name=&quot;...&quot; value=&quot;...&quot;/&gt;
    &lt;/transactionManager&gt;
    &lt;dataSource type=&quot;POOLED&quot;&gt;
      &lt;property name=&quot;driver&quot; value=&quot;${driver}&quot;/&gt;
      &lt;property name=&quot;url&quot; value=&quot;${url}&quot;/&gt;
      &lt;property name=&quot;username&quot; value=&quot;${username}&quot;/&gt;
      &lt;property name=&quot;password&quot; value=&quot;${password}&quot;/&gt;
    &lt;/dataSource&gt;
  &lt;/environment&gt;
&lt;/environments&gt;</pre></div>
        
<p>
          &#x6ce8;&#x610f;&#x8fd9;&#x91cc;&#x7684;&#x952e;:
        </p>
        
<ul>
          
<li>
            &#x9ed8;&#x8ba4;&#x7684;&#x73af;&#x5883; ID(&#x6bd4;&#x5982;:default=&#x201d;development&#x201d;)&#x3002;
          </li>
          
<li>
            &#x6bcf;&#x4e2a; environment &#x5143;&#x7d20;&#x5b9a;&#x4e49;&#x7684;&#x73af;&#x5883; ID(&#x6bd4;&#x5982;:id=&#x201d;development&#x201d;)&#x3002;
          </li>
          
<li>
            &#x4e8b;&#x52a1;&#x7ba1;&#x7406;&#x5668;&#x7684;&#x914d;&#x7f6e;(&#x6bd4;&#x5982;:type=&#x201d;JDBC&#x201d;)&#x3002;
          </li>
          
<li>
            &#x6570;&#x636e;&#x6e90;&#x7684;&#x914d;&#x7f6e;(&#x6bd4;&#x5982;:type=&#x201d;POOLED&#x201d;)&#x3002;
          </li>
        </ul>
        
<p>
          &#x9ed8;&#x8ba4;&#x7684;&#x73af;&#x5883;&#x548c;&#x73af;&#x5883; ID &#x662f;&#x81ea;&#x6211;&#x89e3;&#x91ca;&#x7684;&#x3002;&#x4f60;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x4f60;&#x559c;&#x6b22;&#x7684;&#x540d;&#x79f0;&#x6765;&#x547d;&#x540d;,&#x53ea;&#x8981;&#x786e;&#x5b9a;&#x9ed8;&#x8ba4;
&#x7684;&#x8981;&#x5339;&#x914d;&#x5176;&#x4e2d;&#x4e4b;&#x4e00;&#x3002;
        </p>
        
<p>
          <b>transactionManager</b>
        </p>
        
<p>
&#x5728; MyBatis &#x4e2d;&#x6709;&#x4e24;&#x79cd;&#x4e8b;&#x52a1;&#x7ba1;&#x7406;&#x5668;&#x7c7b;&#x578b;(&#x4e5f;&#x5c31;&#x662f; type=&#x201d;[JDBC|MANAGED]&#x201d;):
        </p>
        
<ul>
          
<li>
JDBC &#x2013; &#x8fd9;&#x4e2a;&#x914d;&#x7f6e;&#x76f4;&#x63a5;&#x7b80;&#x5355;&#x4f7f;&#x7528;&#x4e86; JDBC &#x7684;&#x63d0;&#x4ea4;&#x548c;&#x56de;&#x6eda;&#x8bbe;&#x7f6e;&#x3002;
&#x5b83;&#x4f9d;&#x8d56;&#x4e8e;&#x4ece;&#x6570;&#x636e;&#x6e90;&#x5f97;
&#x5230;&#x7684;&#x8fde;&#x63a5;&#x6765;&#x7ba1;&#x7406;&#x4e8b;&#x52a1;&#x8303;&#x56f4;&#x3002;
          </li>
          
<li>
MANAGED &#x2013; &#x8fd9;&#x4e2a;&#x914d;&#x7f6e;&#x51e0;&#x4e4e;&#x6ca1;&#x505a;&#x4ec0;&#x4e48;&#x3002;&#x5b83;&#x4ece;&#x6765;&#x4e0d;&#x63d0;&#x4ea4;&#x6216;&#x56de;&#x6eda;&#x4e00;&#x4e2a;&#x8fde;&#x63a5;&#x3002;&#x800c;&#x5b83;&#x4f1a;&#x8ba9;
&#x5bb9;&#x5668;&#x6765;&#x7ba1;&#x7406;&#x4e8b;&#x52a1;&#x7684;&#x6574;&#x4e2a;&#x751f;&#x547d;&#x5468;&#x671f;(&#x6bd4;&#x5982; Spring &#x6216; JEE &#x5e94;&#x7528;&#x670d;&#x52a1;&#x5668;&#x7684;&#x4e0a;&#x4e0b;&#x6587;)
&#x9ed8;&#x8ba4;
&#x60c5;&#x51b5;&#x4e0b;&#x5b83;&#x4f1a;&#x5173;&#x95ed;&#x8fde;&#x63a5;&#x3002;
&#x7136;&#x800c;&#x4e00;&#x4e9b;&#x5bb9;&#x5668;&#x5e76;&#x4e0d;&#x5e0c;&#x671b;&#x8fd9;&#x6837;,
&#x56e0;&#x6b64;&#x5982;&#x679c;&#x4f60;&#x9700;&#x8981;&#x4ece;&#x8fde;&#x63a5;&#x4e2d;&#x505c;&#x6b62;
&#x5b83;,&#x5c06; closeConnection &#x5c5e;&#x6027;&#x8bbe;&#x7f6e;&#x4e3a; false&#x3002;&#x4f8b;&#x5982;:
            
<div class="source">
<pre>&lt;transactionManager type=&quot;MANAGED&quot;&gt;
  &lt;property name=&quot;closeConnection&quot; value=&quot;false&quot;/&gt;
&lt;/transactionManager&gt;</pre></div>
          </li>
        </ul>
        
<p>
          <span class="label important">NOTE</span>
          If you are planning to use MyBatis with Spring there is no need to configure
          any TransactionManager because the Spring module will set its own one 
          overriding any previously set configuration.  
        </p>
        
<p>
&#x8fd9;&#x4e24;&#x79cd;&#x4e8b;&#x52a1;&#x7ba1;&#x7406;&#x5668;&#x90fd;&#x4e0d;&#x9700;&#x8981;&#x4efb;&#x4f55;&#x5c5e;&#x6027;&#x3002;&#x7136;&#x800c;&#x5b83;&#x4eec;&#x90fd;&#x662f;&#x7c7b;&#x578b;&#x522b;&#x540d;,&#x8981;&#x66ff;&#x6362;&#x4f7f;&#x7528;&#x5b83;&#x4eec;,&#x4f60;&#x9700;
&#x8981;&#x653e;&#x7f6e;&#x5c06;&#x4f60;&#x81ea;&#x5df1;&#x7684;&#x7c7b;&#x7684;&#x5b8c;&#x5168;&#x9650;&#x5b9a;&#x540d;&#x6216;&#x7c7b;&#x578b;&#x522b;&#x540d;,&#x5b83;&#x4eec;&#x5f15;&#x7528;&#x4e86;&#x4f60;&#x5bf9; TransactionFactory &#x63a5;&#x53e3;&#x7684;&#x5b9e;&#x73b0;
&#x7c7b;&#x3002;
        </p>
        
<div class="source">
<pre>public interface TransactionFactory {
  void setProperties(Properties props);  
  Transaction newTransaction(Connection conn);
  Transaction newTransaction(DataSource dataSource, TransactionIsolationLevel level, boolean autoCommit);  
}</pre></div>
        
<p>
&#x4efb;&#x4f55;&#x5728; XML &#x4e2d;&#x914d;&#x7f6e;&#x7684;&#x5c5e;&#x6027;&#x5728;&#x5b9e;&#x4f8b;&#x5316;&#x4e4b;&#x540e;&#x5c06;&#x4f1a;&#x88ab;&#x4f20;&#x9012;&#x7ed9; setProperties()&#x65b9;&#x6cd5;&#x3002;
&#x4f60;&#x7684;&#x5b9e;&#x73b0;&#x7c7b;
&#x9700;&#x8981;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x4e8b;&#x52a1;&#x63a5;&#x53e3;&#x7684;&#x5b9e;&#x73b0;,&#x8fd9;&#x4e2a;&#x63a5;&#x53e3;&#x4e5f;&#x5f88;&#x7b80;&#x5355;:
        </p>
        
<div class="source">
<pre>public interface Transaction {
  Connection getConnection() throws SQLException;
  void commit() throws SQLException;
  void rollback() throws SQLException;
  void close() throws SQLException;
}</pre></div>
        
<p>
&#x4f7f;&#x7528;&#x8fd9;&#x4e24;&#x4e2a;&#x63a5;&#x53e3;,&#x4f60;&#x53ef;&#x4ee5;&#x5b8c;&#x5168;&#x81ea;&#x5b9a;&#x4e49; MyBatis &#x5bf9;&#x4e8b;&#x52a1;&#x7684;&#x5904;&#x7406;&#x3002;
        </p>
        
<p>
          <b>dataSource</b>
        </p>
        
<p>
dataSource &#x5143;&#x7d20;&#x4f7f;&#x7528;&#x57fa;&#x672c;&#x7684; JDBC &#x6570;&#x636e;&#x6e90;&#x63a5;&#x53e3;&#x6765;&#x914d;&#x7f6e; JDBC &#x8fde;&#x63a5;&#x5bf9;&#x8c61;&#x7684;&#x8d44;&#x6e90;&#x3002;
        </p>
        
<ul>
          
<li>&#x8bb8;&#x591a; MyBatis &#x7684;&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#x5c06;&#x4f1a;&#x6309;&#x793a;&#x4f8b;&#x4e2d;&#x7684;&#x4f8b;&#x5b50;&#x6765;&#x914d;&#x7f6e;&#x6570;&#x636e;&#x6e90;&#x3002;
&#x7136;&#x800c;&#x5b83;&#x5e76;&#x4e0d;&#x662f;&#x5fc5;&#x987b;&#x7684;&#x3002;
&#x8981;&#x77e5;&#x9053;&#x4e3a;&#x4e86;&#x65b9;&#x4fbf;&#x4f7f;&#x7528;&#x5ef6;&#x8fdf;&#x52a0;&#x8f7d;,&#x6570;&#x636e;&#x6e90;&#x624d;&#x662f;&#x5fc5;&#x987b;&#x7684;&#x3002;
          </li>
        </ul>
        
<p>&#x6709;&#x4e09;&#x79cd;&#x5185;&#x5efa;&#x7684;&#x6570;&#x636e;&#x6e90;&#x7c7b;&#x578b;(&#x4e5f;&#x5c31;&#x662f; type=&#x201d;???&#x201d;):
        </p>
        
<p>
          <b>UNPOOLED</b>
&#x2013; &#x8fd9;&#x4e2a;&#x6570;&#x636e;&#x6e90;&#x7684;&#x5b9e;&#x73b0;&#x662f;&#x6bcf;&#x6b21;&#x88ab;&#x8bf7;&#x6c42;&#x65f6;&#x7b80;&#x5355;&#x6253;&#x5f00;&#x548c;&#x5173;&#x95ed;&#x8fde;&#x63a5;&#x3002;&#x5b83;&#x6709;&#x4e00;&#x70b9;&#x6162;,
&#x8fd9;&#x662f;&#x5bf9;&#x7b80;&#x5355;&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#x7684;&#x4e00;&#x4e2a;&#x5f88;&#x597d;&#x7684;&#x9009;&#x62e9;,
&#x56e0;&#x4e3a;&#x5b83;&#x4e0d;&#x9700;&#x8981;&#x53ca;&#x65f6;&#x7684;&#x53ef;&#x7528;&#x8fde;&#x63a5;&#x3002;
&#x4e0d;&#x540c;&#x7684;&#x6570;&#x636e;&#x5e93;&#x5bf9;&#x8fd9;
&#x4e2a;&#x7684;&#x8868;&#x73b0;&#x4e5f;&#x662f;&#x4e0d;&#x4e00;&#x6837;&#x7684;,
&#x6240;&#x4ee5;&#x5bf9;&#x67d0;&#x4e9b;&#x6570;&#x636e;&#x5e93;&#x6765;&#x8bf4;&#x914d;&#x7f6e;&#x6570;&#x636e;&#x6e90;&#x5e76;&#x4e0d;&#x91cd;&#x8981;,
&#x8fd9;&#x4e2a;&#x914d;&#x7f6e;&#x4e5f;&#x662f;&#x95f2;&#x7f6e;&#x7684;&#x3002;
UNPOOLED &#x7c7b;&#x578b;&#x7684;&#x6570;&#x636e;&#x6e90;&#x4ec5;&#x4ec5;&#x7528;&#x6765;&#x914d;&#x7f6e;&#x4ee5;&#x4e0b; 5 &#x79cd;&#x5c5e;&#x6027;:
        </p>
        
<ul>
          
<li><tt>driver</tt> &#x2013; &#x8fd9;&#x662f; JDBC &#x9a71;&#x52a8;&#x7684; Java &#x7c7b;&#x7684;&#x5b8c;&#x5168;&#x9650;&#x5b9a;&#x540d;(&#x5982;&#x679c;&#x4f60;&#x7684;&#x9a71;&#x52a8;&#x5305;&#x542b;,&#x5b83;&#x4e5f;&#x4e0d;&#x662f;
              &#x6570;&#x636e;&#x6e90;&#x7c7b;)&#x3002;
          </li>
          
<li><tt>url</tt> &#x2013; &#x8fd9;&#x662f;&#x6570;&#x636e;&#x5e93;&#x7684; JDBC URL &#x5730;&#x5740;&#x3002;
          </li>
          
<li><tt>username</tt> &#x2013; &#x767b;&#x5f55;&#x6570;&#x636e;&#x5e93;&#x7684;&#x7528;&#x6237;&#x540d;&#x3002;
          </li>
          
<li><tt>password</tt> &#x2013; &#x767b;&#x5f55;&#x6570;&#x636e;&#x5e93;&#x7684;&#x5bc6;&#x7801;&#x3002;
          </li>
          
<li><tt>defaultTransactionIsolationLevel</tt> &#x2013; &#x9ed8;&#x8ba4;&#x7684;&#x8fde;&#x63a5;&#x4e8b;&#x52a1;&#x9694;&#x79bb;&#x7ea7;&#x522b;&#x3002;
          </li>
        </ul>
        
<p>
&#x4f5c;&#x4e3a;&#x53ef;&#x9009;&#x9879;,&#x4f60;&#x53ef;&#x4ee5;&#x4f20;&#x9012;&#x6570;&#x636e;&#x5e93;&#x9a71;&#x52a8;&#x7684;&#x5c5e;&#x6027;&#x3002;&#x8981;&#x8fd9;&#x6837;&#x505a;,&#x5c5e;&#x6027;&#x7684;&#x524d;&#x7f00;&#x662f;&#x4ee5;&#x201c;driver.&#x201d;&#x5f00;
&#x5934;&#x7684;,&#x4f8b;&#x5982;:
        </p>
        
<ul>
          
<li><tt>driver.encoding=UTF8</tt></li>
        </ul>
        
<p>
&#x8fd9; &#x6837; &#x5c31; &#x4f1a; &#x4f20; &#x9012; &#x4ee5; &#x503c; &#x201c; UTF8 &#x201d; &#x6765; &#x4f20; &#x9012; &#x5c5e; &#x6027; &#x201c; encoding &#x201d;, &#x5b83; &#x662f; &#x901a; &#x8fc7;
DriverManager.getConnection(url,driverProperties)&#x65b9;&#x6cd5;&#x4f20;&#x9012;&#x7ed9;&#x6570;&#x636e;&#x5e93;&#x9a71;&#x52a8;&#x3002;
        </p>
        
<p>
          <b>POOLED</b>
          &#x2013; &#x8fd9;&#x662f; JDBC &#x8fde;&#x63a5;&#x5bf9;&#x8c61;&#x7684;&#x6570;&#x636e;&#x6e90;&#x8fde;&#x63a5;&#x6c60;&#x7684;&#x5b9e;&#x73b0;,&#x7528;&#x6765;&#x907f;&#x514d;&#x521b;&#x5efa;&#x65b0;&#x7684;&#x8fde;&#x63a5;&#x5b9e;&#x4f8b;
&#x65f6;&#x5fc5;&#x8981;&#x7684;&#x521d;&#x59cb;&#x8fde;&#x63a5;&#x548c;&#x8ba4;&#x8bc1;&#x65f6;&#x95f4;&#x3002;&#x8fd9;&#x662f;&#x4e00;&#x79cd;&#x5f53;&#x524d; Web &#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#x7528;&#x6765;&#x5feb;&#x901f;&#x54cd;&#x5e94;&#x8bf7;&#x6c42;&#x5f88;&#x6d41;&#x884c;&#x7684;&#x65b9;
&#x6cd5;&#x3002;
        </p>
        
<p>
&#x9664;&#x4e86;&#x4e0a;&#x8ff0;(UNPOOLED)&#x7684;&#x5c5e;&#x6027;&#x4e4b;&#x5916;,&#x8fd8;&#x6709;&#x5f88;&#x591a;&#x5c5e;&#x6027;&#x53ef;&#x4ee5;&#x7528;&#x6765;&#x914d;&#x7f6e; POOLED &#x6570;&#x636e;&#x6e90;:
        </p>
        
<ul>
          
<li><tt>poolMaximumActiveConnections</tt> &#x2013; &#x5728;&#x4efb;&#x610f;&#x65f6;&#x95f4;&#x5b58;&#x5728;&#x7684;&#x6d3b;&#x52a8;(&#x4e5f;&#x5c31;&#x662f;&#x6b63;&#x5728;&#x4f7f;&#x7528;)&#x8fde;
&#x63a5;&#x7684;&#x6570;&#x91cf;&#x3002;&#x9ed8;&#x8ba4;&#x503c;:10
          </li>
          
<li><tt>poolMaximumIdleConnections</tt> &#x2013; &#x4efb;&#x610f;&#x65f6;&#x95f4;&#x5b58;&#x5728;&#x7684;&#x7a7a;&#x95f2;&#x8fde;&#x63a5;&#x6570;&#x3002;

          </li>
          
<li><tt>poolMaximumCheckoutTime</tt> &#x2013; &#x5728;&#x88ab;&#x5f3a;&#x5236;&#x8fd4;&#x56de;&#x4e4b;&#x524d;,&#x6c60;&#x4e2d;&#x8fde;&#x63a5;&#x88ab;&#x68c0;&#x67e5;&#x7684;&#x65f6;&#x95f4;&#x3002;&#x9ed8;&#x8ba4;
&#x503c;:20000 &#x6beb;&#x79d2;(&#x4e5f;&#x5c31;&#x662f; 20 &#x79d2;)
          </li>
          
<li><tt>poolTimeToWait</tt> &#x2013; &#x8fd9;&#x662f;&#x7ed9;&#x8fde;&#x63a5;&#x6c60;&#x4e00;&#x4e2a;&#x6253;&#x5370;&#x65e5;&#x5fd7;&#x72b6;&#x6001;&#x673a;&#x4f1a;&#x7684;&#x4f4e;&#x5c42;&#x6b21;&#x8bbe;&#x7f6e;,&#x8fd8;&#x6709;&#x91cd;&#x65b0;
&#x5c1d;&#x8bd5;&#x83b7;&#x5f97;&#x8fde;&#x63a5;,
&#x8fd9;&#x4e9b;&#x60c5;&#x51b5;&#x4e0b;&#x5f80;&#x5f80;&#x9700;&#x8981;&#x5f88;&#x957f;&#x65f6;&#x95f4;
&#x4e3a;&#x4e86;&#x907f;&#x514d;&#x8fde;&#x63a5;&#x6c60;&#x6ca1;&#x6709;&#x914d;&#x7f6e;&#x65f6;&#x9759;&#x9ed8;&#x5931;
&#x8d25;)&#x3002;&#x9ed8;&#x8ba4;&#x503c;:20000 &#x6beb;&#x79d2;(&#x4e5f;&#x5c31;&#x662f; 20 &#x79d2;)
          </li>
          
<li><tt>poolPingQuery</tt> &#x2013; &#x53d1;&#x9001;&#x5230;&#x6570;&#x636e;&#x7684;&#x4fa6;&#x6d4b;&#x67e5;&#x8be2;,&#x7528;&#x6765;&#x9a8c;&#x8bc1;&#x8fde;&#x63a5;&#x662f;&#x5426;&#x6b63;&#x5e38;&#x5de5;&#x4f5c;,&#x5e76;&#x4e14;&#x51c6;&#x5907;
&#x63a5;&#x53d7;&#x8bf7;&#x6c42;&#x3002;&#x9ed8;&#x8ba4;&#x662f;&#x201c;NO PING QUERY SET&#x201d;
,&#x8fd9;&#x4f1a;&#x5f15;&#x8d77;&#x8bb8;&#x591a;&#x6570;&#x636e;&#x5e93;&#x9a71;&#x52a8;&#x8fde;&#x63a5;&#x7531;&#x4e00;
&#x4e2a;&#x9519;&#x8bef;&#x4fe1;&#x606f;&#x800c;&#x5bfc;&#x81f4;&#x5931;&#x8d25;&#x3002;
          </li>
          
<li><tt>poolPingEnabled</tt> &#x2013; &#x8fd9;&#x662f;&#x5f00;&#x542f;&#x6216;&#x7981;&#x7528;&#x4fa6;&#x6d4b;&#x67e5;&#x8be2;&#x3002;&#x5982;&#x679c;&#x5f00;&#x542f;,&#x4f60;&#x5fc5;&#x987b;&#x7528;&#x4e00;&#x4e2a;&#x5408;&#x6cd5;&#x7684;
SQL &#x8bed;&#x53e5;(&#x6700;&#x597d;&#x662f;&#x5f88;&#x5feb;&#x901f;&#x7684;)&#x8bbe;&#x7f6e; poolPingQuery &#x5c5e;&#x6027;&#x3002;&#x9ed8;&#x8ba4;&#x503c;:false&#x3002;
          </li>
          
<li><tt>poolPingConnectionsNotUsedFor</tt> &#x2013; &#x8fd9;&#x662f;&#x7528;&#x6765;&#x914d;&#x7f6e; poolPingQuery &#x591a;&#x6b21;&#x65f6;&#x95f4;&#x88ab;&#x7528;&#x4e00;&#x6b21;&#x3002;
&#x8fd9;&#x53ef;&#x4ee5;&#x88ab;&#x8bbe;&#x7f6e;&#x5339;&#x914d;&#x6807;&#x51c6;&#x7684;&#x6570;&#x636e;&#x5e93;&#x8fde;&#x63a5;&#x8d85;&#x65f6;&#x65f6;&#x95f4;,
&#x6765;&#x907f;&#x514d;&#x4e0d;&#x5fc5;&#x8981;&#x7684;&#x4fa6;&#x6d4b;&#x3002;
&#x9ed8;&#x8ba4;&#x503c;:
0(&#x4e5f;&#x5c31;&#x662f;&#x6240;&#x6709;&#x8fde;&#x63a5;&#x6bcf;&#x4e00;&#x65f6;&#x523b;&#x90fd;&#x88ab;&#x4fa6;&#x6d4b;-&#x4f46;&#x4ec5;&#x4ec5;&#x5f53; poolPingEnabled &#x4e3a; true &#x65f6;&#x9002;&#x7528;)&#x3002;
          </li>
        </ul>
        
<p>
          <b>JNDI</b>
          &#x2013; &#x8fd9;&#x4e2a;&#x6570;&#x636e;&#x6e90;&#x7684;&#x5b9e;&#x73b0;&#x662f;&#x4e3a;&#x4e86;&#x4f7f;&#x7528;&#x5982; Spring &#x6216;&#x5e94;&#x7528;&#x670d;&#x52a1;&#x5668;&#x8fd9;&#x7c7b;&#x7684;&#x5bb9;&#x5668;,
&#x5bb9;&#x5668;&#x53ef;&#x4ee5;&#x96c6;
&#x4e2d;&#x6216;&#x5728;&#x5916;&#x90e8;&#x914d;&#x7f6e;&#x6570;&#x636e;&#x6e90;,&#x7136;&#x540e;&#x653e;&#x7f6e;&#x4e00;&#x4e2a; JNDI &#x4e0a;&#x4e0b;&#x6587;&#x7684;&#x5f15;&#x7528;&#x3002;&#x8fd9;&#x4e2a;&#x6570;&#x636e;&#x6e90;&#x914d;&#x7f6e;&#x53ea;&#x9700;&#x8981;&#x4e24;&#x4e2a;&#x5c5e;
&#x6027;:
        </p>
        
<ul>
          
<li><tt>initial_context</tt> &#x2013; &#x8fd9; &#x4e2a; &#x5c5e; &#x6027; &#x7528; &#x6765; &#x4ece; &#x521d; &#x59cb; &#x4e0a; &#x4e0b; &#x6587; &#x4e2d; &#x5bfb; &#x627e; &#x73af; &#x5883; ( &#x4e5f; &#x5c31; &#x662f;
initialContext.lookup(initial&#x2014;&#x2014;context) &#x3002;&#x8fd9;&#x662f;&#x4e2a;&#x53ef;&#x9009;&#x5c5e;&#x6027;,&#x5982;&#x679c;&#x88ab;&#x5ffd;&#x7565;,&#x90a3;&#x4e48;
data_source &#x5c5e;&#x6027;&#x5c06;&#x4f1a;&#x76f4;&#x63a5;&#x4ee5; initialContext &#x4e3a;&#x80cc;&#x666f;&#x518d;&#x6b21;&#x5bfb;&#x627e;&#x3002;
          </li>
          
<li><tt>data_source</tt> &#x2013; &#x8fd9;&#x662f;&#x5f15;&#x7528;&#x6570;&#x636e;&#x6e90;&#x5b9e;&#x4f8b;&#x4f4d;&#x7f6e;&#x7684;&#x4e0a;&#x4e0b;&#x6587;&#x7684;&#x8def;&#x5f84;&#x3002;&#x5b83;&#x4f1a;&#x4ee5;&#x7531; initial_context
&#x67e5;&#x8be2;&#x8fd4;&#x56de;&#x7684;&#x73af;&#x5883;&#x4e3a;&#x80cc;&#x666f;&#x6765;&#x67e5;&#x627e;,&#x5982;&#x679c; initial_context &#x6ca1;&#x6709;&#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x65f6;,&#x76f4;&#x63a5;&#x4ee5;&#x521d;&#x59cb;
&#x4e0a;&#x4e0b;&#x6587;&#x4e3a;&#x73af;&#x5883;&#x6765;&#x67e5;&#x627e;&#x3002;
          </li>
        </ul>
        
<p>&#x548c;&#x5176;&#x4ed6;&#x6570;&#x636e;&#x6e90;&#x914d;&#x7f6e;&#x76f8;&#x4f3c;,
&#x5b83;&#x4e5f;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x540d;&#x4e3a;
&#x201c;env.&#x201d;
&#x7684;&#x524d;&#x7f00;&#x76f4;&#x63a5;&#x5411;&#x521d;&#x59cb;&#x4e0a;&#x4e0b;&#x6587;&#x53d1;&#x9001;&#x5c5e;&#x6027;&#x3002;
&#x6bd4;&#x5982;:
        </p>
        
<ul>
          
<li><tt>env.encoding=UTF8</tt></li>
        </ul>
        
<p>
&#x5728;&#x521d;&#x59cb;&#x5316;&#x4e4b;&#x540e;,&#x8fd9;&#x5c31;&#x4f1a;&#x4ee5;&#x503c;&#x201c;UTF8&#x201d;&#x5411;&#x521d;&#x59cb;&#x4e0a;&#x4e0b;&#x6587;&#x7684;&#x6784;&#x9020;&#x65b9;&#x6cd5;&#x4f20;&#x9012;&#x540d;&#x4e3a;&#x201c;encoding&#x201d;
&#x7684;&#x5c5e;&#x6027;&#x3002;
        </p>
        
		
<p>
		  You can plug any 3rd party DataSource by implementing the interface <tt>org.apache.ibatis.datasource.DataSourceFactory</tt>:
		</p>

        
<div class="source">
<pre>public interface DataSourceFactory {
  void setProperties(Properties props);
  DataSource getDataSource();
}</pre></div>

        
<p>
		  <tt>org.apache.ibatis.datasource.unpooled.UnpooledDataSourceFactory</tt> can be used as super class
		  class to build new datasource adapters. For example this is the code needed to plug C3P0:  
		</p>

        
<div class="source">
<pre>import org.apache.ibatis.datasource.unpooled.UnpooledDataSourceFactory;
import com.mchange.v2.c3p0.ComboPooledDataSource;
        
public class C3P0DataSourceFactory extends UnpooledDataSourceFactory {

  public C3P0DataSourceFactory() {
    this.dataSource = new ComboPooledDataSource();
  }
}</pre></div>

        
<p>To set it up, add a property for each setter method you want MyBatis to call. 
        Below depicts a sample configuration which connects to a PostgreSQL database:</p>        

        
<div class="source">
<pre>&lt;dataSource type=&quot;org.myproject.C3P0DataSourceFactory&quot;&gt;
  &lt;property name=&quot;driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;
  &lt;property name=&quot;url&quot; value=&quot;jdbc:postgresql:mydb&quot;/&gt;
  &lt;property name=&quot;username&quot; value=&quot;postgres&quot;/&gt;
  &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;
&lt;/dataSource&gt;
</pre></div>
        
      </div>
      
      
<div class="section">
<h3>databaseIdProvider<a name="databaseIdProvider"></a></h3>
        
<p>
          MyBatis is able to execute different statements depending on your database vendor. 
          The multi-db vendor support is based on the mapped statements <tt>databaseId</tt> attribute. 
          MyBatis will load all statements with no <tt>databaseId</tt> attribute 
          or with a <tt>databaseId</tt> that matches the current one. If case the same statement
          if found with and without the <tt>databaseId</tt> the latter will be discarded.  
          To enable the multi vendor support add a <tt>databaseIdProvider</tt>
          to mybatis-config.xml file as follows:
        </p>
        
        
<div class="source">
<pre>&lt;databaseIdProvider type=&quot;DB_VENDOR&quot; /&gt;
</pre></div>

		
<p> 
		  The DB_VENDOR implementation databaseIdProvider sets as a databaseId the String returned by 
		  <tt>DatabaseMetaData#getDatabaseProductName()</tt>. 
		  As usually that string is too long and also, different versions of the same product return different values, 
		  so you may want to translate it to a shorter one by adding properties like follows:
		</p>
		
        
<div class="source">
<pre>&lt;databaseIdProvider type=&quot;DB_VENDOR&quot;&gt;
  &lt;property name=&quot;SQL Server&quot; value=&quot;sqlserver&quot;/&gt;
  &lt;property name=&quot;DB2&quot; value=&quot;db2&quot;/&gt;        
  &lt;property name=&quot;Oracle&quot; value=&quot;oracle&quot; /&gt;
&lt;/databaseIdProvider&gt;</pre></div>

		
<p> 
		  When properties are provided, the DB_VENDOR databaseIdProvider will search the property value corresponding to the 
		  first key found in the returned database product name or &quot;null&quot; if there is not a matching property. 
		  In this case, if <tt>getDatabaseProductName()</tt> returns &quot;Oracle (DataDirect)&quot; the databaseId will be set to &quot;oracle&quot;.  
		</p>
		
		
<p>
		  You can build your own database provider by implementing the interface <tt>org.apache.ibatis.mapping.DatabaseIdProvider</tt>
		  and registerin it in mybatis-config.xml:
		</p>

        
<div class="source">
<pre>public interface DatabaseIdProvider {
  void setProperties(Properties p);
  String getDatabaseId(DataSource dataSource) throws SQLException;
}</pre></div>

      </div>
      
      
<div class="section">
<h3>mappers<a name="mappers"></a></h3>
        
<p>
&#x65e2;&#x7136; MyBatis &#x7684;&#x884c;&#x4e3a;&#x5df2;&#x7ecf;&#x7531;&#x4e0a;&#x8ff0;&#x5143;&#x7d20;&#x914d;&#x7f6e;&#x5b8c;&#x4e86;,&#x6211;&#x4eec;&#x73b0;&#x5728;&#x5c31;&#x8981;&#x5b9a;&#x4e49; SQL &#x6620;&#x5c04;&#x8bed;&#x53e5;&#x4e86;&#x3002;
&#x4f46;&#x662f;,
&#x9996;&#x5148;&#x6211;&#x4eec;&#x9700;&#x8981;&#x544a;&#x8bc9; MyBatis &#x5230;&#x54ea;&#x91cc;&#x53bb;&#x627e;&#x5230;&#x8fd9;&#x4e9b;&#x8bed;&#x53e5;&#x3002;
Java &#x5728;&#x8fd9;&#x65b9;&#x9762;&#x6ca1;&#x6709;&#x63d0;&#x4f9b;&#x4e00;&#x4e2a;&#x5f88;&#x597d;
&#x7684;&#x65b9;&#x6cd5;,
&#x6240;&#x4ee5;&#x6700;&#x4f73;&#x7684;&#x65b9;&#x5f0f;&#x662f;&#x544a;&#x8bc9; MyBatis &#x5230;&#x54ea;&#x91cc;&#x53bb;&#x627e;&#x6620;&#x5c04;&#x6587;&#x4ef6;&#x3002;
&#x4f60;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x76f8;&#x5bf9;&#x4e8e;&#x7c7b;&#x8def;&#x5f84;&#x7684;
&#x8d44;&#x6e90;&#x5f15;&#x7528;,&#x6216;&#x8005;&#x5b57;&#x7b26;&#x8868;&#x793a;,&#x6216; url &#x5f15;&#x7528;&#x7684;&#x5b8c;&#x5168;&#x9650;&#x5b9a;&#x540d;(&#x5305;&#x62ec; file:///URLs)
&#x3002;&#x4f8b;&#x5982;:
        </p>
        
<div class="source">
<pre>&lt;!-- Using classpath relative resources --&gt;
&lt;mappers&gt;
  &lt;mapper resource=&quot;org/mybatis/builder/AuthorMapper.xml&quot;/&gt;
  &lt;mapper resource=&quot;org/mybatis/builder/BlogMapper.xml&quot;/&gt;
  &lt;mapper resource=&quot;org/mybatis/builder/PostMapper.xml&quot;/&gt;
&lt;/mappers&gt;</pre></div>

        
<div class="source">
<pre>&lt;!-- Using url fully qualified paths --&gt;
&lt;mappers&gt;
  &lt;mapper url=&quot;file:///var/mappers/AuthorMapper.xml&quot;/&gt;
  &lt;mapper url=&quot;file:///var/mappers/BlogMapper.xml&quot;/&gt;
  &lt;mapper url=&quot;file:///var/mappers/PostMapper.xml&quot;/&gt;
&lt;/mappers&gt;</pre></div>

        
<div class="source">
<pre>&lt;!-- Using mapper interface classes --&gt;
&lt;mappers&gt;
  &lt;mapper class=&quot;org.mybatis.builder.AuthorMapper&quot;/&gt;
  &lt;mapper class=&quot;org.mybatis.builder.BlogMapper&quot;/&gt;
  &lt;mapper class=&quot;org.mybatis.builder.PostMapper&quot;/&gt;
&lt;/mappers&gt;</pre></div>

        
<div class="source">
<pre>&lt;!-- Register all interfaces in a package as mappers --&gt;
&lt;mappers&gt;
  &lt;package name=&quot;org.mybatis.builder&quot;/&gt;
&lt;/mappers&gt;</pre></div>

        
<p>
&#x8fd9;&#x4e9b;&#x8bed;&#x53e5;&#x7b80;&#x5355;&#x544a;&#x8bc9;&#x4e86; MyBatis &#x53bb;&#x54ea;&#x91cc;&#x627e;&#x6620;&#x5c04;&#x6587;&#x4ef6;&#x3002;&#x5176;&#x4f59;&#x7684;&#x7ec6;&#x8282;&#x5c31;&#x662f;&#x5728;&#x6bcf;&#x4e2a; SQL &#x6620;&#x5c04;&#x6587;
&#x4ef6;&#x4e2d;&#x4e86;,&#x4e0b;&#x9762;&#x7684;&#x90e8;&#x5206;&#x6211;&#x4eec;&#x6765;&#x8ba8;&#x8bba; SQL &#x6620;&#x5c04;&#x6587;&#x4ef6;&#x3002;
        </p>
      </div>
    </div>
  

                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2010&#x2013;2014
                        <a href="http://www.mybatis.org/">MyBatis.org</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
